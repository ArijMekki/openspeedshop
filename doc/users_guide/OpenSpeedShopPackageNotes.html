<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!
      Copyright (c) 2005 Silicon Graphics, Inc. All Rights Reserved.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.2
      or any later version published by the Free Software Foundation;
      with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
         Texts.  A copy of the license is included in the section entitled "GNU
      Free Documentation License".
>
<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Open|SpeedShop package notes</title></head>

<body>
<br>
<h2><a class="mozTocH2" name="mozTocId161093"></a>Table of Contents</h2>
<ol id="mozToc">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><li><a href="#mozTocId161093">Table
of Contents</a>
    <ol>
      <li><a href="#mozTocId157850">Open|SpeedShop
Development RPM Usage Information</a>
        <ol>
          <li><a href="#mozTocId480642">Open|SpeedShop build component
RPM versions:
            </a></li>
          <li><a href="#mozTocId400287">OVERVIEW - Setting up new
machine for development on Open|SpeedShop
            </a>
            <ol>
              <li><a href="#mozTocId653198">Step 1 - Check for the
correct version of the development components</a></li>
              <li><a href="#mozTocId986368">Step 2 - Checkout
OpenSpeedShop_ROOT/current</a></li>
              <li><a href="#mozTocId432241">Step 3 - Install missing
RPMS</a></li>
              <li><a href="#mozTocId15807">Step 4 - Build Open|SpeedShop</a></li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
<h2><a class="mozTocH2" name="mozTocId157850"></a>Open|SpeedShop
Development RPM Usage Information</h2>
<h3><a class="mozTocH3" name="mozTocId480642"></a>Open|SpeedShop build
component RPM versions:<br>
</h3>
This file documents the list of software packages used by the
Open|SpeedShop<br>
developers when building Open|SpeedShop or developing plugin modules
for it.<br>
For each package, a minimum and maximum version is given. These are the
KNOWN<br>
minimum and maximum verions that have been found to work with
Open|SpeedShop.<br>
<br>
You may find newer (or older) versions of these packages work just
fine.&nbsp;&nbsp; Go<br>
ahead and update this document when you do!&nbsp;&nbsp; Packages <span style="font-weight: bold;">not </span>commonly found
in<br>
recent (e.g. SuSE Professional 9.1, SLES 9, Fedora Core 3) Linux
distributions<br>
are provided here in this (OpenSpeedShop_ROOT/current) directory as
source tarballs <br>
and binary RPMs
for key platforms.&nbsp;&nbsp; The source and binary RPM components
currently<br>
supplied in OpenSpeedShop_ROOT because they are not readily available
in RPM <br>
form are:<br>
<ul>
  <li>dpcl-3.3.4</li>
  <li>libunwind-0.98.5</li>
  <li>libdwarf-20050503</li>
  <li>sqlite-3.2.2</li>
  <li>tmake-1.11</li>
  <li>dyninst-4.2.1</li>
  <li>xxdiff-3.1</li>
</ul>
In addition, the components listed below are also needed for building
Open|SpeedShop.<br>
<br>
<table style="width: 684px; height: 513px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td>Component Name </td>
      <td>Minimum </td>
      <td>Maximum </td>
      <td>Notes</td>
    </tr>
    <tr>
      <td><br>
      </td>
    </tr>
    <tr>
      <td>autoconf </td>
      <td>2.59 </td>
      <td>2.59 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>automake </td>
      <td>1.7.9 </td>
      <td>1.9.5 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>binutils </td>
      <td>2.15 </td>
      <td>2.15 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>doxygen </td>
      <td>1.3.6 </td>
      <td>1.4.2 </td>
      <td>(2)</td>
    </tr>
    <tr>
      <td>dpcl </td>
      <td>see-note-1 </td>
      <td>see-note-1 </td>
      <td>(1)</td>
    </tr>
    <tr>
      <td>dyninst </td>
      <td>see-note-1 </td>
      <td>see-note-2 </td>
      <td>(1)</td>
    </tr>
    <tr>
      <td>gcc/g++ </td>
      <td>3.3.3 </td>
      <td>3.3.3 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>libdwarf </td>
      <td>2004/02/03 </td>
      <td>2005/05/03 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>libelf </td>
      <td>0.8.5 </td>
      <td>0.8.5 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>libtool </td>
      <td>1.5.2 </td>
      <td>1.5.14 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>libunwind </td>
      <td>0.98.5 </td>
      <td>0.98.5 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>python </td>
      <td>2.3.3 </td>
      <td>2.3.4 </td>
      <td>none</td>
    </tr>
    <tr>
      <td style="vertical-align: top;">python-devel<br>
      </td>
      <td style="vertical-align: top;">2.3.3<br>
      </td>
      <td style="vertical-align: top;">2.3.4<br>
      </td>
      <td style="vertical-align: top;">none<br>
      </td>
    </tr>
    <tr>
      <td>sqlite </td>
      <td>3.0.8 </td>
      <td>3.2.2 </td>
      <td>none</td>
    </tr>
    <tr>
      <td>qt </td>
      <td>3.3.1 </td>
      <td>3.3.4 </td>
      <td>none</td>
    </tr>
    <tr>
      <td style="vertical-align: top;">qt-devel<br>
      </td>
      <td style="vertical-align: top;">3.3.1<br>
      </td>
      <td style="vertical-align: top;">3.3.4<br>
      </td>
      <td style="vertical-align: top;">(3)<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">tmake<br>
      </td>
      <td style="vertical-align: top;">1.11<br>
      </td>
      <td style="vertical-align: top;">1.11<br>
      </td>
      <td style="vertical-align: top;">none<br>
      </td>
    </tr>
    <tr>
      <td>xxdiff </td>
      <td>3.0.2 </td>
      <td>3.1 </td>
      <td>(2)</td>
    </tr>
  </tbody>
</table>
<pre></pre>
NOTES:<br>
<ol>
  <li>Always use the Dyninst and DPCL versions found in this directory.
Others will almost certainly not work with Open|SpeedShop.</li>
  <li>Utilities commonly used by the Open|SpeedShop developers but not
strictly need to build Open|SpeedShop.</li>
  <li>On SLES 9 Linux distributions the necessary qt development
components require qt3-devel-doc and qt3-devel-tools in addition to
qt3-devel.<br>
  </li>
</ol>
<h3><a class="mozTocH3" name="mozTocId400287"></a>OVERVIEW - Setting up
new machine for development on Open|SpeedShop<br>
</h3>
So, how do you prepare a machine for building O|SS?&nbsp;&nbsp; <br>
<h4><a class="mozTocH4" name="mozTocId653198"></a>Step 1 - Check for
the correct version of the development components</h4>
The query option of rpm can be used to verify whether the correct
version of the component is installed.&nbsp;&nbsp; The rpm command "rpm
--query
--all | grep component_rpm_name" can be used for this
purpose.&nbsp;&nbsp;&nbsp; A rpm
query script, <a href="file:///ptmp/cmplrs.src/webpages/Tools/SpeedShop_ASCI/DevelopersCorner/DevelopmentEnv/rpmQuery">rpmQuery</a>, that searches for the
necessary components has been created.&nbsp;&nbsp;&nbsp; Once you know
what components are available on the prospective development machine,
you can determine what components you may have to install.<br>
<br>
<h4><a class="mozTocH4" name="mozTocId986368"></a>Step 2 - Checkout
OpenSpeedShop_ROOT/current</h4>
Use the OpenSpeedShop_ROOT repository and checkout the current
directory.&nbsp;&nbsp; The RPMs not readily available on all systems
can be found in that directory and it's sub-directories.<br>
<br>
<h4><a class="mozTocH4" name="mozTocId432241"></a>Step 3 - Install
missing RPMS</h4>
For IA32, go into OpenSpeedShop_ROOT/current/RPMS/i586 and install all
the
RPMs that you find there. Assuming, of course, you are on a Linux/IA32
system...&nbsp;
There are also IA64 RPMS checked in.&nbsp;&nbsp;&nbsp; These RPMs are
found in OpenSpeedShop_ROOT/current/RPMS/ia64.<br>
<br>
The installation of
the RPMs is a per system task.&nbsp; Once the RPMs are installed, all
users of the system will be using the
components that were<br>
installed via the rpm command.&nbsp;&nbsp; Currently all the RPMs in
the ROOT/current/RPMS/{$ARCH} directory are installed in default
locations, like
/usr/lib.&nbsp;&nbsp; For example, the dyninst and dpcl libraries are
installed in /usr/lib:<br>
<br>
lnx-jeg.americas.sgi.com-&gt;ls -lastr /usr/lib/libdyn* /usr/lib/libdpc*<br>
2128 &nbsp; -rwxr-xr-x&nbsp; 1 root root 2166984 Jun 29 13:12
/usr/lib/libdpcl.so*<br>
&nbsp; 72 &nbsp; &nbsp; -rwxr-xr-x&nbsp; 1 root root&nbsp;&nbsp; 63988
Jun 29 13:12
/usr/lib/libdpclRT.so*<br>
&nbsp;&nbsp; 4&nbsp;&nbsp; lrwxrwxrwx&nbsp; 1 root
root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 Jun 29 15:10
/usr/lib/libdpcl.so.1.0 -&gt; /usr/lib/libdpcl.so.1*<br>
&nbsp;&nbsp; 4 &nbsp; lrwxrwxrwx&nbsp; 1 root
root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 19 Jun 29 15:10
/usr/lib/libdpcl.so.1 -&gt; /usr/lib/libdpcl.so*<br>
&nbsp;&nbsp; 4&nbsp; lrwxrwxrwx&nbsp; 1 root
root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23 Jun 29 15:10
/usr/lib/libdpclRT.so.1.0 -&gt; /usr/lib/libdpclRT.so.1*<br>
&nbsp;&nbsp; 4&nbsp; lrwxrwxrwx&nbsp; 1 root
root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 21 Jun 29 15:10
/usr/lib/libdpclRT.so.1 -&gt; /usr/lib/libdpclRT.so*<br>
6312 -rwxr-xr-x&nbsp; 1 root root 6443551 Jul 20 17:28
/usr/lib/libdyninstAPI.so*<br>
&nbsp; 36 &nbsp; -rwxr-xr-x&nbsp; 1 root root&nbsp;&nbsp; 30418 Jul 20
17:28
/usr/lib/libdyninstAPI_RT.so.1*<br>
<br>
Need RPM installation, upgrade, and removal tips?
<a href="file:///ptmp/cmplrs.src/webpages/Tools/SpeedShop_ASCI/DevelopersCorner/DevelopmentEnv/RPM_notes.html">(RPM notes -- click here -- html-July 19, 2005)</a>
<br>
<h4><a class="mozTocH4" name="mozTocId15807"></a>Step 4 - Build
Open|SpeedShop</h4>
Legacy Build NOTE:&nbsp; If converting from the tarball based
ROOT,&nbsp; then remove any references to $ROOT from your shell login
scripts.<br>
<br>
Rebuild your source tree from scratch. I.e. get rid of ALL generated
files,&nbsp; then do the following commands in the
OpenSpeedShop/current directory:<br>
<ul>
  <li>bootstrap</li>
  <li>configure --prefix=&lt;install_path&gt; ;</li>
  <li>make install</li>
</ul>
The Open|Speedshop build should find all of the necessary libraries and
headers in /usr now.<br>
<br>
If this doesn't work, read OpenSpeedShop_ROOT/current/README (that file
should have the most accurate list of RPM versions) and see if
your Linux distribution is lacking one of the packages (or versions)
mentioned.&nbsp; With SuSE 9.1 or SLES 9 you should be able to install
the RPMS and go.&nbsp;
Nothing else should be required. <br>
<br>
Fedora Core 3 requires libelf-0.8.5 be installed. &nbsp; This RPM can
be found in
OpenSpeedShop_ROOT/current/RPMS/i586/FedoraCore3/.&nbsp; You can use
"rpm
--query --all" to find out what packages are on your system.&nbsp;
Grepping
is
recommended when doing the queries:&nbsp; "rpm
--query --all | grep rpm_name"&nbsp; You can use the rpm
query script, <a href="file:///ptmp/cmplrs.src/webpages/Tools/SpeedShop_ASCI/DevelopersCorner/DevelopmentEnv/rpmQuery">rpmQuery</a> for querying all the
packages needed.<br>
<br>
In the future, when we need to upgrade DPCL or Dyninst, you aren't
going to have to rebuild anything. You'll just do a "rpm --upgrade" to
upgrade
your system from a binary RPM that Steve or I will produce.<br>
<br>
I have setup "hope" with this configuration. There is no "/perftools"
directory anymore. Everything is installed via binary RPMS in
/usr.&nbsp;&nbsp;
My IA32 box
is setup this way, "blob1" is setup this way, and Jim G's laptop is
setup this
way.<br>
<br>
<br>
</body></html>
