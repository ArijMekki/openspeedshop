<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!--
      Copyright (c) 2005 Silicon Graphics, Inc. All Rights Reserved.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.2
      or any later version published by the Free Software Foundation;
      with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
         Texts.  A copy of the license is included in the section entitled "GNU
      Free Documentation License".
-->
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Open/SpeedShop User's Guide</title>
  <style type="text/css">
   H1 {border-width: 1; border: solid; text-align: center}
  <style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
  </style>
  <meta content="Jim Galarowicz" name="author">
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"
 alink="#000099" lang="EN-US" link="blue" vlink="purple">
<div style="text-align: left;"><br>
<span style="text-decoration: underline;"></span>
<span style="text-decoration: underline;"></span></div>
<div class="moz-text-html" lang="x-western">
<div style="text-align: center;">
<div class="Section1"><br>
<p class="MsoNormal" style="text-align: center; color: rgb(0, 0, 102);"
 align="center"><b style=""><span
 style="font-size: 22pt; font-family: SGIAlt;"><img
 alt="Open|SpeedShop logo" src="OpenSpeedShop_Logo.jpg"
 style="width: 303px; height: 38px;"><br>
Users Guide<br>
</span></b><big><span style="font-weight: bold;">Version 1.00 Release</span><br
 style="font-weight: bold;">
<span style="font-weight: bold;">February 7, 2007</span></big><br>
</p>
<div class="Section2"><b style=""><br style="" clear="all">
</b>
<p style="text-align: left;" class="MsoNormal"><b style=""><b style=""><span
 style="font-size: 16pt; font-family: Arial; color: teal;"><a
 name="Contents"></a><span style="color: rgb(0, 0, 128);"> Table of
Contents<br>
</span></span></b></b></p>
<ul style="text-align: left;" id="mozToc">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6-->
  <li><a href="#mozTocId71414">Introduction
to Open|SpeedShop
    </a>
    <ul>
      <li><a href="#mozTocId406387">Brief
Open|SpeedShop Overview
        </a></li>
      <li><a href="#mozTocId958848">Common Terminology
        </a></li>
      <li><a href="#mozTocId760931">Open|SpeedShop
General Usage</a>
        <ul>
          <li><a href="#mozTocId170405">Concept
of an Experiment</a></li>
          <li><a href="#mozTocId491105">Selecting an
Experiment</a></li>
          <li><a href="#mozTocId965967">Gathering, Saving, and
Re-examining Performance Data With Open|SpeedShop</a></li>
          <li><a href="#mozTocId893909">Open|SpeedShop
Specific Environment Variables </a>
            <ul>
              <li><a href="#mozTocId502665">Environment variables
that relate to Open|SpeedShop functionality or access.
                </a>
                <ul>
                  <li><a href="#mozTocId349306">OPENSS_ALLOW_PYTHON_COMMANDS</a></li>
                  <li><a href="#mozTocId379491">OPENSS_DISABLE_MPISTARTUP</a></li>
                  <li><a href="#mozTocId415148">OPENSS_MPI_IMPLEMENTATION
                    </a></li>
                  <li><a href="#mozTocId240649">OPENSS_PLUGIN_PATH</a></li>
                </ul>
              </li>
              <li><a href="#mozTocId617106">Environment variables
controlling the generation debugging information (DEVELOPER CENTRIC)
                </a>
                <ul>
                  <li><a href="#mozTocId698248">OPENSS_DEBUG_DATABASE</a></li>
                  <li><a href="#mozTocId509038">OPENSS_DEBUG_DATAQUEUES</a></li>
                  <li><a href="#mozTocId774936">OPENSS_DEBUG_DPCLD</a></li>
                  <li><a href="#mozTocId201139">OPENSS_DEBUG_MPIJOB</a></li>
                  <li><a href="#mozTocId130140">OPENSS_DEBUG_OPENSS</a></li>
                  <li><a href="#mozTocId251166">OPENSS_DEBUG_PERF_PROCESS</a></li>
                  <li><a href="#mozTocId600598">OPENSS_DEBUG_PROCESS</a></li>
                  <li><a href="#mozTocId631397">OPENSS_LIMIT_SIGNAL_CATCHING</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#mozTocId683004">Extensibility</a></li>
    </ul>
  </li>
  <li><a href="#mozTocId334016">Open|SpeedShop
Build and Installation Information</a></li>
  <li><a href="#mozTocId70473">Open|SpeedShop
Test
Information</a>
    <ul>
      <li><a href="#mozTocId968100">Location and
Organization of Tests</a></li>
      <li><a href="#mozTocId768338">How to Run the
Open|SpeedShop Tests</a></li>
    </ul>
  </li>
  <li><a href="#mozTocId84094">Open|SpeedShop
Tools Information</a>
    <ul>
      <li><a href="#mozTocId800987">Open|SpeedShop
Invocation Command&nbsp; "openss"</a>
        <ul>
          <li><a href="#mozTocId171398">openss -gui</a></li>
          <li><a href="#mozTocId654701">openss -cli:</a></li>
          <li><a href="#mozTocId3287">openss -batch:</a></li>
          <li><a href="#mozTocId252988">Python
Scripting API</a></li>
        </ul>
      </li>
      <li><a href="#mozTocId805334">Open|SpeedShop Quick Start
Information</a></li>
      <li><a href="#mozTocId97653">Running
Open|SpeedShop on a cluster or multiple partitions</a></li>
      <li><a href="#mozTocId696903">Using
the GUI Tool</a>
        <ul>
          <li><a href="#mozTocId374469">GUI
Launch
Background
Information: </a></li>
          <li><a href="#mozTocId325154">Basic Menus and Menu
Item Introduction</a>
            <ul>
              <li><a href="#mozTocId909976">File
Menu </a>
                <ul>
                  <li><a href="#mozTocId185104">Open
Existing Experiment</a></li>
                  <li><a href="#mozTocId25302">Open Saved Experiment</a></li>
                  <li><a href="#mozTocId577794">Save Experiment Data</a></li>
                </ul>
              </li>
              <li><a href="#mozTocId527863">Experiments
Menu</a>
                <ul>
                  <li><a href="#mozTocId840467">Custom
Experiment</a></li>
                  <li><a href="#mozTocId653796">FPE Tracing Experiment</a></li>
                  <li><a href="#mozTocId746748">HW Counter Experiments</a>
                    <ul>
                      <li><a href="#mozTocId545662">hwc
Hardware Counter Experiment</a></li>
                      <li><a href="#mozTocId428805">hwctime
Hardware Counter Experiment</a></li>
                    </ul>
                  </li>
                  <li><a href="#mozTocId845390">Input/Output (I/O)
Experiment</a></li>
                  <li><a href="#mozTocId279794">Input/Output
Trace (IOT)
Experiment</a></li>
                  <li><a href="#mozTocId466177">MPI
Experiment</a></li>
                  <li><a href="#mozTocId611799">MPIT
Experiment</a></li>
                  <li><a href="#mozTocId993712">PC Sampling Experiment</a>
                    <ul>
                      <li><a href="#mozTocId450283">pcsamp PC
Sampling Experiment</a></li>
                    </ul>
                  </li>
                  <li><a href="#mozTocId733641">User Time Experiment</a>
                    <ul>
                      <li><a href="#mozTocId848866">&nbsp;usertime
User Time
Experiment </a></li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><a href="#mozTocId150174">Wizard
Menu</a>
                <ul>
                  <li><a href="#mozTocId528369">Compare Wizard </a></li>
                  <li><a href="#mozTocId104652">Floating Point
Exception
(FPE) Tracing Experiment Wizard</a></li>
                  <li><a href="#mozTocId370594">HW Counter Experiment
Wizard </a></li>
                  <li><a href="#mozTocId594761">I/O Experiment Wizard </a></li>
                  <li><a href="#mozTocId275633">MPI Experiment Wizard </a></li>
                  <li><a href="#mozTocId373490">PC Sampling Experiment
Wizard </a></li>
                  <li><a href="#mozTocId501416">User Time Experiment
Wizard </a></li>
                  <li><a href="#mozTocId167122">Preferences Menu Item </a>
                    <ul>
                      <li><a href="#mozTocId166891">General:</a></li>
                      <li><a href="#mozTocId683332">Statistics Related</a></li>
                      <li><a href="#mozTocId603411">Source Related</a></li>
                      <li><a href="#mozTocId939535">Manage Process
Panel
Related</a></li>
                    </ul>
                  </li>
                  <li><a href="#mozTocId940600">Close
Menu Item</a></li>
                  <li><a href="#mozTocId494559">Exit
Menu Item</a></li>
                </ul>
              </li>
              <li><a href="#mozTocId781350">Tools
Menu</a>
                <ul>
                  <li><a href="#mozTocId248646">Command
Panel</a></li>
                  <li><a href="#mozTocId788584">Source
Panel</a></li>
                  <li><a href="#mozTocId757134">Stats
Panel</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li><a href="#mozTocId464050">Typical
Open|SpeedShop GUI Wizard Usage </a>
            <ul>
              <li><a href="#mozTocId943081">Introductory Wizard Display
                </a></li>
              <li><a href="#mozTocId197580">PC Sampling Wizard
- Initial Display </a></li>
              <li><a href="#mozTocId68517">PC Sampling
Wizard - Change Sampling Rate Display </a></li>
              <li><a href="#mozTocId555143">PC Sampling
Wizard - Load Executable or Attach To Running Process Display </a></li>
              <li><a href="#mozTocId788759">PC Sampling
Wizard - Enter Executable Dialog Display </a></li>
              <li><a href="#mozTocId756188">PC Sampling Wizard
- Attach To Running Process Dialog Display</a></li>
              <li><a href="#mozTocId803440">PC Sampling
Wizard - Experiment Summary Display</a></li>
              <li><a href="#mozTocId759827">PC Sampling
Experiment Display</a></li>
              <li><a href="#mozTocId522543">Ready to Run the Experiment
                </a></li>
              <li><a href="#mozTocId691783">PC Sampling
Experiment - Running Experiment Display</a></li>
              <li><a href="#mozTocId439325">PC Sampling
Experiment - Paused experiment use Continue button to continue</a></li>
              <li><a href="#mozTocId441285">PC Sampling
Experiment - Statistics Display</a></li>
              <li><a href="#mozTocId206900">PC Sampling
Experiment - Split Panel Display</a></li>
              <li><a href="#mozTocId944297">PC Sampling
Experiment - Source and Statistics Relationship Display</a></li>
            </ul>
          </li>
          <li><a href="#mozTocId439377">Typical
Open|SpeedShop GUI non-Wizard Usage</a></li>
          <li><a href="#mozTocId439657">Comparing Performance
Data using the Open|SpeedShop GUI
            </a></li>
          <li><a href="#mozTocId444537">Finding Processes,
Threads, or Ranks that have out of range values using
the Open|SpeedShop GUI</a></li>
          <li><a href="#mozTocId956211">Open|SpeedShop GUI Usage on
MPI Applications</a>
            <ul>
              <li><a href="#mozTocId441124">General Concepts</a></li>
              <li><a href="#mozTocId89318">Notes/Caveats</a></li>
              <li><a href="#mozTocId963085">Multiple MPI version
Implementation Implications
                </a></li>
              <li><a href="#mozTocId956978">Attaching to Already
Running MPI Applications</a>
                <ul>
                  <li><a href="#mozTocId291888">Gui Wizard Information</a></li>
                  <li><a href="#mozTocId112115">Gui Non-Wizard
Information&nbsp;
                    </a></li>
                </ul>
              </li>
              <li><a href="#mozTocId271423">Loading and Starting
MPI Applications</a>
                <ul>
                  <li><a href="#mozTocId359073">Gui Wizard Information</a></li>
                  <li><a href="#mozTocId579582">Gui Non-Wizard
Information&nbsp;
                    </a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#mozTocId362515">Using
the Interactive
CLI Tool </a>
        <ul>
          <li><a href="#mozTocId367726">CLI Launch Background
Information: </a></li>
          <li><a href="#mozTocId252535">Typical Open|SpeedShop CLI
Usage </a></li>
          <li><a href="#mozTocId466298">Open|SpeedShop CLI Usage on
MPI applications</a>
            <ul>
              <li><a href="#mozTocId737510">General Concepts</a></li>
              <li><a href="#mozTocId729681">Notes/Caveats</a></li>
              <li><a href="#mozTocId405869">Multiple MPI
version Implementation Implications with the CLI </a></li>
              <li><a href="#mozTocId94012">Attaching
to Already
Running MPI Applications with the CLI</a>
                <ul>
                  <li><a href="#mozTocId881690">Example 1: Attach to
mpirun</a></li>
                  <li><a href="#mozTocId791298">Example
2: Attach to MPI rank 0 process </a></li>
                </ul>
              </li>
              <li><a href="#mozTocId790164">Loading and
Starting
MPI Applications with the CLI </a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#mozTocId749689"> </a></li>
      <li><a href="#mozTocId59849">Using
the Batch
Command Tool </a>
        <ul>
          <li><a href="#mozTocId878676">One step batch example
            </a>
            <ul>
              <li><a href="#mozTocId990413">Command example:</a></li>
              <li><a href="#mozTocId800328">Command output:</a></li>
            </ul>
          </li>
          <li><a href="#mozTocId774375">Flexible Pipe commands
batch example</a>
            <ul>
              <li><a href="#mozTocId634032">Open|SpeedShop CLI
command file contents (batch.input file)</a></li>
              <li><a href="#mozTocId580568">Command example:</a></li>
              <li><a href="#mozTocId1596">Command
output:</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#mozTocId54031">Scripting
API
    </a></li>
  <li><a href="#mozTocId525838">Plugin
API (Extensibility)&nbsp; Description</a></li>
  <li><a href="#mozTocId145888">Appendix
A: Command Syntax
Description</a></li>
  <li><a href="#mozTocId598438">Credits and Trademark
References
    </a></li>
</ul>
<p style="text-align: left;" class="MsoNormal"><br>
<b style=""><b style=""><span
 style="font-size: 16pt; font-family: Arial; color: teal;"><span
 style="color: rgb(0, 0, 128);"></span></span></b></b></p>
<p style="text-align: left;" class="MsoToc1"><!--if supportFields><span
style='text-transform:none;font-weight:normal'><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>TOC \o &quot;1-4&quot; <span
style='mso-element:field-separator'></span></span><![endif]--></p>
</div>
<div style="text-align: left;"><span
 style="font-size: 11pt; font-family: &quot;Times New Roman&quot;;"></span>
</div>
<div class="Section3">
<h1 style="margin-left: 40px; text-align: left;"><a class="mozTocH1"
 name="mozTocId71414"></a><b style=""><a
 name="Introduction_to_OpenSpeedShop_"></a><!--[if !supportLists]--><span
 style="color: rgb(0, 0, 128);">Introduction
to Open|SpeedShop</span><br>
</b></h1>
<p style="text-align: left;" class="MsoBodyText"><span
 style="font-family: times new roman,times,serif;"></span></p>
<h2 style="margin-left: 40px; text-align: left;"><a class="mozTocH2"
 name="mozTocId406387"></a><b style=""><a name="Brief_Overview"></a>Brief
Open|SpeedShop Overview<br>
</b></h2>
<div style="margin-left: 40px; text-align: left;"><span
 style="font-family: times new roman,times,serif;">Open|SpeedShop
provides open source performance measurement and performance analysis
capabilities for a wide
range of platforms.&nbsp;&nbsp; </span>Open|SpeedShop
is based
on the concepts of SGI&reg;'s IRIX SpeedShop performance analysis
tool.&nbsp; The initial development of Open|SpeedShop was co-funded by
the Department of
Energy (DOE) and SGI&reg;.&nbsp; Open|SpeedShop has had it's
infrastructure and base components released as open
source under the GPL and LGPL licenses. <br>
</div>
<div style="text-align: left;">
<blockquote> Open|SpeedShop was designed to be modular and
extensible.&nbsp;
It
supports the concept of plugins which allow users, if they so desire,
to create their own performance experiments.&nbsp;&nbsp; The project is
designed
in such a way as to enable
value-added plugins to be added to the open source version.&nbsp; <br>
  <br>
Another key feature of the performance tool is its usability.&nbsp; The
user
interface is designed so that a degree in computer science
is not required to use it.&nbsp; To
make
the tool usable for a greater range of users, the performance tool will
provide novice user Wizards, easily understood language in the user
interface components, and interactive help. <br>
  <br>
Open|SpeedShop's baseline functionality was released, under the GPL and
LGPL Open Source
licenses.&nbsp;
Support for single system image (SSI) machines, support for clusters
(i.e., multiple OS kernels), exclusive and inclusive user time, program
counter (PC) sampling, MPI call tracing, Input/Output tracing, Floating
point exception tracing and CPU hardware performance counter
experiments are the key components of the baseline functionality.&nbsp;
The
performance tool was designed in such a manner that will allow
users to easily extend the tool by adding their own experiments. <br>
  <br>
The performance tool will use dynamic probe class library (DPCL) as a
building block component for cluster system support.&nbsp;&nbsp; The
use of
DPCL
will provide a portable means for the performance tool to supply
cluster support for platforms supported by the Dyninst dynamic
instruction package.&nbsp; DPCL uses the Dyninst
application programming interface (API) to provide its instrumentation
capability. <br>
  <br>
Availability of the new performance tool based on SpeedShop technology
on Linux platforms will enable Fortran (77, 90, and 95), C, and C++
programmers to use an advanced performance analysis tool within the
Open Source environment.<br>
  <br>
Open|SpeedShop is oriented towards gathering and displaying performance
data gathered from an application and relating that performance data
back to the application's source file, function, and/or line number(s).<br>
  <b style=""> </b></blockquote>
</div>
<h2 style="margin-left: 40px; text-align: left;"><a class="mozTocH2"
 name="mozTocId958848"></a><b style=""><span
 style="font-family: times new roman,times,serif;"><a
 name="Common_Terminology"></a>Common Terminology</span></b><br>
</h2>
<div style="text-align: left;">
<blockquote>Technical terms can have multiple and/or context
sensitive
meanings,
therefore this section attempts to explain and clarify the meanings of
the terms used in this document.&nbsp; <br>
</blockquote>
<div style="text-align: left; margin-left: 40px;"><big>
</big>
<ul>
  <big> </big>
  <li><i style="font-weight: bold;">Experiment</i><span
 style="font-weight: bold;">:</span>&nbsp;
A set of collectors and executables
bound together to generate performance metrics. </li>
  <li><i style="font-weight: bold;">Focused Experiment</i><span
 style="font-weight: bold;">:</span>&nbsp;
The current experiment commands operate on. The user may run or view
multiple experiments simultaneously and unless
a particular experiment is specified directly, the focused
experiment will used. Experiments are given an enumeration
(expId) for identification. </li>
  <li><i style="font-weight: bold;">Component(s)</i><span
 style="font-weight: bold;">:</span>&nbsp;
A somewhat self-contained section of the <b>Open|SpeedShop</b>
performance
tool.&nbsp;&nbsp; This section of code does a set of specific related
tasks for the tool.&nbsp;&nbsp; For example, the GUI component does all
the tasks related to displaying <b>Open|SpeedShop</b> wizards,
experiment
creation, and results using a graphical user interface.&nbsp;&nbsp; The
CLI component does similar functions but uses the interactive command
line delivery method.</li>
  <li><i style="font-weight: bold;">Collector</i><span
 style="font-weight: bold;">:</span>&nbsp;
The portion of the tool containing logic that is
responsible for the gathering of the performance
metric.&nbsp;&nbsp;&nbsp; A collector is a portion of the code that is
included in the experiment plugin.</li>
  <li><i style="font-weight: bold;">Metric</i><span
 style="font-weight: bold;">:</span>&nbsp;
The entity, which the collector/experiment is gathering.&nbsp;
A time, occurrence counter, or other entity, which reflects in some way
on the applications performance and is gathered by a performance
experiment (by the collector). </li>
  <li><i style="font-weight: bold;">Param</i><span
 style="font-weight: bold;">:</span>&nbsp;
Each collector allows the user to set certain values that control the
way a collector behaves. The parameter or <b>param</b> may cause the
collector to
perform various operations at certain time intervals or it may cause a
collector to measure certain types of data. Although <b>Open|SpeedShop</b>
provides a
standard way to set a parameter, it is up to the individual collector
to
decide what to do with that information.
Detailed documentation about the available parameters is part of the
collector's documentation. </li>
  <li><i style="font-weight: bold;">Framework</i><span
 style="font-weight: bold;">:</span>&nbsp;
The set of API functions that
allows the user
interface to manage the creation and viewing of performance
experiments.&nbsp; It is the interface between the&nbsp; user interface
and the cluster support and dynamic instrumentation components.</li>
  <li> <i style="font-weight: bold;">Plugin:</i>&nbsp;
A portion of the performance tool that can be loaded and included in
the
tool at tool start-up time.&nbsp; Development of the plugin uses a tool
specific interface (API) so that the plugin, and the tool it is to be
included in, know how to interact with each other.&nbsp;&nbsp; Plugins
are normally placed in a specific directory so that the tool knows
where to find the plugins.</li>
  <li><i style="font-weight: bold;">Target</i><span
 style="font-weight: bold;">:</span>&nbsp;
This is the application or part of the application one is running the
experiment on. In order to fine tune what is
being targeted, <b>Open|SpeedShop</b> gives target options that
describes file names, host names, thread identifiers, rank identifiers
and process identifiers.</li>
</ul>
</div>
</div>
<h2 style="margin-left: 40px; text-align: left;"><a class="mozTocH2"
 name="mozTocId760931"></a><span style="color: rgb(0, 0, 102);">Open|SpeedShop
General Usage</span></h2>
<div style="text-align: left; margin-left: 80px;">Open|SpeedShop was
designed to be used by users with various levels of performance
monitoring expertise.&nbsp; The Open|SpeedShop Graphical User Interface
wizards are designed to guide a user through the process of setting up
Open|SpeedShop to analyze their program.&nbsp;&nbsp; The wizard will
ultimately create a performance monitoring experiment.&nbsp;&nbsp; This
is explained in the next section.&nbsp;&nbsp; Expert users can go
directly to the Experiment menu and create their experiment
directly.&nbsp;&nbsp; There is also an interactive command line option
and a batch option for users who prefer or need this
functionality.&nbsp;&nbsp; These options are described in detail in
future sections of this document.<br>
</div>
<br>
<h3 style="margin-left: 80px; text-align: left;"><a class="mozTocH3"
 name="mozTocId170405"></a><a name="Concept_of_an_Experiment"></a>Concept
of an Experiment</h3>
<div style="margin-left: 80px; text-align: left;"><b>Open|SpeedShop</b>
uses
the concept of an experiment to describe the
gathering of performance measurement data for a particular performance
area of interest.&nbsp;&nbsp; Experiments consist of the collector with
is
responsible for the gathering of the measurements associated with the
performance area of interest.&nbsp; The collector also contains
routines/functions that can interpret the gathered measurement
(performance data) into a human understandable form.&nbsp;&nbsp; The
Experiment
definition also includes the application being examined.&nbsp; The
application's symbol information is saved into the experiment output
file so that performance reports can be generated from the performance
data file alone.<br>
</div>
<div style="margin-left: 80px; text-align: left;">
<h3><a class="mozTocH3" name="mozTocId491105"></a>Selecting an
Experiment</h3>
<p>The Summary of Experiments table below shows the possible
experiments you can perform using the <b>Open|SpeedShop</b> tools and
the
reasons why you might want to choose a specific
experiment. The Clues column shows when you might use an experiment.
The Data Collected column indicates performance data collected by the
experiment. For detailed information on the experiments, see the
relevant section in the remainder of this chapter.&nbsp;&nbsp;&nbsp;
Open|SpeedShop provides wizards in the Graphical User Interface that
"walk" users through the process of selecting the performance data to
be gathered.&nbsp;&nbsp; The wizards ask a set of "plain" language
questions to focus on the desired performance monitoring experiment
and, therefore also, the desired performance monitoring information to
be gathered and analyzed.<br>
</p>
<div class="table">
<p><b>Table: Summary of Experiments</b></p>
<table
 style="text-align: left; margin-left: 0px; margin-right: auto; width: 823px; height: 708px;"
 summary="Summary of Experiments" border="1">
  <colgroup><col char="c" align="left"><col char="c" align="left"><col
 char="c" align="left"></colgroup><thead valign="bottom"><tr
 valign="top">
    <th scope="col" char="c" align="left" valign="bottom">
    <p>Experiment</p>
    </th>
    <th scope="col" char="c" align="left" valign="bottom">
    <p>Clues</p>
    </th>
    <th scope="col" char="c" align="left" valign="bottom">
    <p>Data Collected</p>
    </th>
  </tr>
  </thead><tbody valign="top">
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>fpe</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>High system time. Presence of floating point operations.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>All floating-point exceptions, with the exception type and the
call stack at the time of the exception. <a
 href="http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi/srch14@SpeedShop%20User/0650/bks/SGI_Developer/books/SShop_UG/sgi_html/ch04.html#Z35752"
 title="Floating-Point Exception Trace Experiment (fpe)"><br>
      </a></p>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>hwc</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>High user CPU time.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Counts at the source line, machine
instruction, and function levels of various hardware events, including:
clock cycles, graduated instructions, primary instruction cache misses,
secondary instruction cache misses, primary data cache misses,
secondary data cache misses, translation lookaside buffer (TLB) misses,
and graduated floating-point instructions.&nbsp; PC sampling is
used.&nbsp;&nbsp; See&nbsp;<a href="index.html#HW_Counter_Experiment">"Hardware
Counter Experiments (hwc)"</a></p>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>hwctime</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>High user CPU time.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Similar to <tt>hwc</tt> experiment, except that callstack
sampling is used.&nbsp;&nbsp; See <a
 href="index.html#HW_Counter_Experiment"
 title="Hardware Counter Experiments (*_hwc, *_hwctime)">&#8220;Hardware
Counter Experiments (hwctime)&#8221;</a>.</p>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>io</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>I/O-bound.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Times the following I/O system calls: <tt>read</tt>, <tt>readv</tt>,
      <tt>write</tt>, <tt>writev</tt>, <tt>open</tt>, <tt>close</tt>,
      <tt>dup</tt>, <tt>pipe</tt>, <tt>creat</tt>.&nbsp;&nbsp; The
time reported is wall clock time.<br>
      </p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><tt>iot</tt></td>
      <td style="vertical-align: top;">I/O-bound.</td>
      <td style="vertical-align: top;">Traces and times the following
I/O system calls: <tt>read</tt>, <tt>readv</tt>, <tt>write</tt>, <tt>writev</tt>,
      <tt>open</tt>, <tt>close</tt>, <tt>dup</tt>, <tt>pipe</tt>, <tt>creat</tt>.&nbsp;&nbsp;
The
time reported is wall clock time.<br>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>mpi</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p><tt>MPI</tt> performance is poor.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Times calls to various MPI routines.&nbsp;&nbsp;
The time reported is wall clock time.<br>
See <a href="index.html#MPI_Experiment"
 title="MPI Call Tracing Experiment (mpi/mpi_trace)">&#8220;MPI Call Tracing
Experiment (mpi)&#8221;</a><br>
      </p>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><tt>mpit</tt></td>
      <td style="vertical-align: top;"><tt>MPI performance is poor <br>
      </tt></td>
      <td style="vertical-align: top;">Traces and times calls to
various MPI routines.&nbsp;&nbsp;
Output is a line of trace per MPI call.&nbsp; All calls are accounted
for - no sampling.&nbsp;&nbsp; The time reported is wall clock time.<br>
See <a href="index.html#MPI_Experiment"
 title="MPI Call Tracing Experiment (mpi/mpi_trace)">&#8220;MPI Call Tracing
Experiment (mpi)&#8221;</a><br>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>pcsamp</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>High user CPU time.</p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Actual CPU time at the
source line, machine instruction, and function levels by sampling the
program counter at 10 or 1-millisecond intervals.&nbsp;&nbsp; See <a
 href="index.html#PC_Sampling_Experiment"
 title="PC Sampling Experiment (pcsamp)">&#8220;PC
Sampling Experiment (pcsamp)&#8221;</a>.</p>
      </td>
    </tr>
    <tr valign="top">
      <td scope="row" char="c" align="left" valign="top">
      <p><tt>usertime</tt></p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Slow program, nothing else known. Not CPU-bound. </p>
      </td>
      <td char="c" align="left" valign="top">
      <p>Inclusive and exclusive CPU time for each function by sampling
the callstack at 30-millisecond intervals.&nbsp;&nbsp; See <a
 href="index.html#User_Time_Experiment"
 title="Call Stack Profiling Experiment (usertime/totaltime)">&#8220;User
Time Experiment (usertime)&#8221;</a>.</p>
      </td>
    </tr>
  </tbody>
</table>
</div>
<br>
<h3><a class="mozTocH3" name="mozTocId965967"></a><a
 name="Gathering_Saving_and_Re-examining"></a>Gathering, Saving, and
Re-examining Performance Data With Open|SpeedShop</h3>
<b>Open|SpeedShop</b> tools allow for the gathering of performance data
through the specification of experiments, as mentioned in the sections
above.&nbsp;&nbsp; This performance data can be saved into an
experiment file.&nbsp;&nbsp; Once the experiment data is saved into a
named experiment file, <b>Open|SpeedShop</b> can be exited, without
losing any
performance data.&nbsp;&nbsp;&nbsp; <b>Open|SpeedShop</b> can be
invoked at a
later time or date to analyze or print the saved experiment performance
data.&nbsp; To do this the user would use the open saved experiment
menu item under the "File" menu.<br>
<br>
<h3><a class="mozTocH3" name="mozTocId893909"></a>Open|SpeedShop
Specific Environment Variables <br>
</h3>
<b>Open|SpeedShop </b>takes advantage of a number of environment
variables to control or change functionality or for debugging
purposes.&nbsp; The following sections describe the specific variables
and their uses.<br>
<h4><a class="mozTocH4" name="mozTocId502665"></a>Environment variables
that relate to Open|SpeedShop functionality or access.<br>
</h4>
<h5><a class="mozTocH5" name="mozTocId349306"></a><small>OPENSS_ALLOW_PYTHON_COMMANDS</small></h5>
By default Open|SpeedShop does not allow Python code to be intermixed
with the Open|SpeedShop commands (despite the fact that the Python
interpreter is always used). Setting this to "true" allows Python code
and Open|SpeedShop commands to be freely intermixed. This has the side
affect that things like spacing before commands will have meaning
(because Python assigns meaning to indentation).<br>
<br>
<h5><a class="mozTocH5" name="mozTocId379491"></a><small><a
 name="OPENSS_DISABLE_MPISTARTUP"></a>OPENSS_DISABLE_MPISTARTUP</small></h5>
The current startup mechanism in O|SS searches the executable and
checks whether it is an MPI application or not.&nbsp;&nbsp; If it is an
MPI application, it looks for the proctable and then tries to attach to
all of them.&nbsp;
This mechanism, however, prevents the user from simply looking at
a single rank of an MPI job or by just running a sequential
<br>
application linked with MPI. In these cases the complete
startup mechanism is invoked.
<br>
<br>
This environment variable, if set, prevents O|SS to
look after the proctable and treats any job like a sequential
one.&nbsp; Until there is an alternative mechanism for selecting
individual ranks, this environment variable is a means to gather
performance data for individual ranks.<br>
<h5><a class="mozTocH5" name="mozTocId415148"></a><small>OPENSS_MPI_IMPLEMENTATION</small><br>
</h5>
Specifies the MPI implementation being used by the MPI application
whose performance is being analyzed. Should be set to one of the
currently supported MPI implementations:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; openmpi, lampi, mpich2, mpich, mpt<br>
<br>
Eventually Open|SpeedShop will be able to auto-detect the MPI
implemetnation of the application and this variable will only be used
to override the auto-detection code.<br>
<br>
<h5><a class="mozTocH5" name="mozTocId240649"></a><small>OPENSS_PLUGIN_PATH</small></h5>
Specifies additional colon-delimited paths that should be searched for
Open|SpeedShop plugins. Use primarily for specifying the location of
any site-specific, or user-developed, plugins. Open|SpeedShop should be
able to locate its default plugin set without having to set this
variable.<br>
<h4><a class="mozTocH4" name="mozTocId617106"></a>Environment variables
controlling the generation debugging information (DEVELOPER CENTRIC)<br>
<span style="font-family: monospace;"></span></h4>
<h5><a class="mozTocH5" name="mozTocId698248"></a><small>OPENSS_DEBUG_DATABASE</small></h5>
Enable gathering of performance statistics for all executed SQL
statements. When enabled, Open|SpeedShop will generate a report to the
standard error stream that lists every executed SQL statement, the
number of times it executed, and the amount of time spent executing it.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId509038"></a><small>OPENSS_DEBUG_DATAQUEUES</small></h5>
Enable gathering of performance statistics for the performance data
queues. When enabled, Open|SpeedShop generates a single line to the
standard error stream every time it writes performance data to an
experiment database. This line contains the running total number of
enqueued data blobs and the number of bytes in those blobs, the running
total number of written data blobs and the number of bytes in those
blobs, and the instantaneous data write rate (expressed as
bytes/second).<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId774936"></a><small>OPENSS_DEBUG_DPCLD</small></h5>
Enable DPCL daemon debugging output. Currently this does NOT work with
the manually started DPCL daemons. Only with the daemons started via
xinetd. The exact output produce is up to the DPCL implementation.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId201139"></a><small>OPENSS_DEBUG_MPIJOB</small></h5>
Enable debugging of MPI job create/attach. When enabled, Open|SpeedShop
generates debugging statements to the standard error stream during the
various phases of picking up the host/PID list for an MPI job. Useful
for determining if Open|SpeedShop thinks a given process is part of an
MPI job and what processes it believes are part of that job.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId130140"></a><small>OPENSS_DEBUG_OPENSS</small></h5>
By default Open|SpeedShop uses a trick where-by it does an exec() of
itself in order to modify its LD_LIBRARY_PATH such that libraries,
plugins, etc. are automagically found based on the executable's
location. This exec() tends to cause problems with debugging tools such
as gdb and valgrind. Enabling<br>
this causes Open|SpeedShop to skip the exec() and thus allow it to be
debugged by the mentioned tools. Doing so, however, may require an
explict setting of LD_LIBRARY_PATH.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId251166"></a><small>OPENSS_DEBUG_PERF_PROCESS</small></h5>
Enable gathering of performance statistics for process create/attach.
When enabled, Open|SpeedShop will generate a report to the standard
error stream that lists the various phases of process
creation/attachment and the minimum, average, and maximum times taken
to reach that particular phase. Useful for finding performance
bottlenecks.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this variable is irrelevant. Open|SpeedShop only looks to see
if it was set or not.<br>
<h5><a class="mozTocH5" name="mozTocId600598"></a><small>OPENSS_DEBUG_PROCESS</small></h5>
Enable debugging of the Process class within Open|SpeedShop. When
enabled, Open|SpeedShop generates detailed debugging statments to the
standard error stream for all process operations (e.g. attachment,
suspend, resume, symbol table access, instrumentation,e tc.) being
performed. The status of EVERY DPCL operation that is performed is also
reported. Since the Open|SpeedShop implementation is multithreaded and
asynchronous, this information is critical when debugging race
conditions, deadlocks, etc. As well as when diagnosing DPCL failures.<br>
<br>
This variable must be set before Open|SpeedShop is started. The exact
value of this<br>
variable is irrelevant. Open|SpeedShop only looks to see if it was set
or not.<br>
<br>
<h5><a class="mozTocH5" name="mozTocId631397"></a><small>OPENSS_LIMIT_SIGNAL_CATCHING</small></h5>
By default Open|SpeedShop catches fatal signals such as SIGSEGV and
attempts to gracefully cleanup any open databases. This cleanup can
interfere with debugging efforts. Setting this to "true" disables
Open|SpeedShop' fatal signal handlers and simply terminates the
application with a core file as would normally happen.<br>
<br>
</div>
<p style="text-align: left;" class="MsoBodyText"><span
 style="font-family: times new roman,times,serif;"></span></p>
<h2 style="margin-left: 40px; text-align: left;"><a class="mozTocH2"
 name="mozTocId683004"></a><b style=""><a name="Extensibility"></a>Extensibility</b></h2>
<div style="text-align: left;">
<blockquote style="margin-left: 80px;"><span
 style="font-family: times new roman,times,serif;"> The <b>Open|SpeedShop</b>
performance tool is designed to
be extensible for both users and developers of <b>Open|SpeedShop</b>
itself.
  <p>The principle concept is the plugin.&nbsp; Plugins are in
the form of shared libraries and data files.&nbsp; <span
 style="font-weight: bold;">Open|SpeedShop</span> plugins control
experiment definition, data collection and data display, whether ASCII
output or as a GUI panel.
All the stock experiments are in plugin form. </p>
  <p>Plugins can be written for advanced/enhanced
versions of experiment collectors, and views
for all the User Interfaces. These plugins allow the <b>Open|SpeedShop</b>
performance tool to be enhanced by the open source community
for either a general or specific need. </p>
See the </span><span style="color: rgb(0, 0, 128);"><a
 href="#Plugin_API_Extensibility_Description_">Plugin
API (Extensibility) Description</a> <span style="color: rgb(0, 0, 0);">section
for a detailed description.</span><b style=""><br>
  </b></span></blockquote>
</div>
</div>
<div style="text-align: left;"><span
 style="font-size: 11pt; font-family: &quot;Times New Roman&quot;;">
</span></div>
<div style="text-align: left;" class="Section4">
<h1 style="margin-left: 40px; text-align: left;"><a class="mozTocH1"
 name="mozTocId334016"></a><b style=""><a
 name="OpenSpeedShop_Installation_Information"></a><!--[if !supportLists]--><span
 style="color: rgb(0, 0, 128);">Open|SpeedShop
Build and Installation Information</span></b></h1>
<blockquote>The <a href="BuildAndInstallGuide.html">Open|SpeedShop
Build and Installation Guide</a> describes how to build
and install <b>Open|SpeedShop</b>.&nbsp;&nbsp; <b style=""><br>
  </b></blockquote>
<br>
</div>
<h1 style="margin-left: 40px; text-align: left;"><a class="mozTocH1"
 name="mozTocId70473"></a><b><b style=""><span
 style="color: rgb(0, 0, 128);"><a name="OpenSpeedShop_Test_Information"></a>Open|SpeedShop
Test
Information</span></b></b></h1>
<div style="margin-left: 80px; text-align: left;">
<h2><a class="mozTocH2" name="mozTocId968100"></a><a
 name="Location_and_Organization_of_Tests"></a>Location and
Organization of Tests</h2>
The <b>Open|SpeedShop</b> test suite can be found under the test
subdirectory
in the <b>Open|SpeedShop</b> source repository.&nbsp;&nbsp; Under the
test
subdirectory there are three directories:<br>
<ul>
  <li>"test_scripts" contains the testing scripts that are used to run
the tests, compare results, and output test reports.</li>
  <li>"src" contains the tests with compare files and other
essential files to run the tests.</li>
  <li>"executables" contains subdirectories for the executables used in
the regression and DPCL tests.</li>
</ul>
<br>
<h2><a class="mozTocH2" name="mozTocId768338"></a><a
 name="How_to_Run_the_OpenSpeedShop_Tests"></a>How to Run the
Open|SpeedShop Tests</h2>
To execute the <b>Open|SpeedShop</b> set of regression
tests.&nbsp;&nbsp;
You must first build the tests by changing directories from
OpenSpeedShop/<br>
to OpenSpeedShop/test.&nbsp;&nbsp; Do a "make" in that
directory.&nbsp;&nbsp; That will compile all the test executables and
make them available for regression testing.<br>
<br>
Now change you
directory path to "OpenSpeedShop/test/src/regression" and
invoke the runall script.&nbsp;&nbsp; The runall script will execute
all the tests in the subdirectories below the "regression" directory
and create a test report.&nbsp;&nbsp; Currently the <b>Open|SpeedShop</b>
tests are only available in the source distribution.<br>
<br>
</div>
<div style="text-align: left;" class="Section6">
<h1 style="margin-left: 40px; text-align: left;"><a class="mozTocH1"
 name="mozTocId84094"></a><b><b style=""><span
 style="color: rgb(0, 0, 128);"><a name="OpenSpeedShop_Tools"></a>Open|SpeedShop
Tools Information</span></b></b></h1>
<blockquote> <b style=""> </b>
  <p class="MsoBodyText"><span style=""><span style=""><span style=""><span
 style="">The tools that are the basis for <b>Open|SpeedShop</b>
are the
performance tool graphical user interface (GUI), the
interactive
command line (CLI), the batch command, and the Python Scripting
API.&nbsp;&nbsp; These are the four <b>Open|SpeedShop</b>
tools that have user interfaces.&nbsp; <b style=""><br>
  </b></span></span></span></span></p>
</blockquote>
<blockquote> <b style=""> </b>
  <h2><a class="mozTocH2" name="mozTocId800987"></a><b style=""><a
 name="OpenSpeedShop_Invocation_Command_"></a>Open|SpeedShop
Invocation Command&nbsp; "openss"</b></h2>
  <b style=""> <br>
  </b>The <b>Open|SpeedShop</b> program will be invoked by the user
typing the
"openss" command.&nbsp; When the user invokes <b>Open|SpeedShop</b>
command
there are
three options for it's mode of operation:<br>
</blockquote>
<blockquote>
  <ul>
    <li>
      <h3><a class="mozTocH3" name="mozTocId171398"></a>openss -gui</h3>
    </li>
  </ul>
  <div style="margin-left: 40px;">This invocation of <b>Open|SpeedShop</b>
causes the GUI to be raised then a command
panel is also
created.&nbsp; This command panel window becomes the interactive CLI
window.&nbsp; Under this invocation <b>Open|SpeedShop</b> interactive
commands
can be entered
into the Graphical User Interface's command panel and have the same
effect as if they were
entered under the "openss -cli" option.</div>
  <ul>
    <li>
      <h3><a class="mozTocH3" name="mozTocId654701"></a>openss -cli:</h3>
    </li>
  </ul>
  <div style="margin-left: 40px;">This invocation of <b>Open|SpeedShop</b>
causes the window terminal becomes the interactive
CLI window.&nbsp;&nbsp; </div>
  <ul>
    <li>
      <h3><a class="mozTocH3" name="mozTocId3287"></a>openss -batch:</h3>
    </li>
  </ul>
  <div style="margin-left: 40px;">This invocation of <b>Open|SpeedShop</b>
causes <b>Open|SpeedShop</b> to execute a performance experiment.
specified by
additional arguments, directly without user interaction.&nbsp;&nbsp;
The -batch operation can be used in scripts and batch processing
environments.<br>
  </div>
</blockquote>
<div style="margin-left: 40px;">
<ul>
  <li>
    <h3><a class="mozTocH3" name="mozTocId252988"></a><b style="">Python
Scripting API</b></h3>
  </li>
</ul>
<div style="margin-left: 40px;">Follow this<a
 href="../../../../OpenSpeedShop/doc/pyscripting_doc/index.html"> link </a>to
the documentations associated with the Python scripting API definition.</div>
</div>
<blockquote><b style=""> </b>
  <h2><a class="mozTocH2" name="mozTocId805334"></a><b><b style=""><span
 style=""><span style=""><span style=""><span style=""><span style=""><span
 style="">Open|SpeedShop Quick Start Information</span></span></span></span></span></span></b></b></h2>
  <br>
  <b>Open|SpeedShop</b> can be invoked in a
number of ways.&nbsp; The <a href="QuickStartGuide.html"><span
 style="font-weight: bold;">Open|SpeedShop</span>
Quick Start Guide</a> gives a few short examples that will
hopefully help the first time users to get started and serve as an
introduction to the following sections about <b>Open|SpeedShop</b>
tool usage.<br>
  <br>
  <h2><a class="mozTocH2" name="mozTocId97653"></a><a
 name="Running_OpenSpeedShop_on_a_cluster_or"></a>Running
Open|SpeedShop on a cluster or multiple partitions</h2>
To run <b>Open|SpeedShop</b> on a multiple
node machine configuration, each node must have DPCL and Dyninst
installed, as <b>Open|SpeedShop's</b> support for multiple nodes is
through
DPCL daemons. &nbsp; If Open|SpeedShop is properly installed, this will
be transparent to an Open|SpeedShop user.&nbsp;&nbsp; See the attaching
to <a href="#Attaching_to_Already_Running_MPI">MPI jobs section </a>for
information on attaching to processes running on other hosts or
partitions.<br>
  <br>
MPI implementations that support the MPIR<span id="mail-highlight-id"
 style="background-color: yellow;"></span>_proctable interface allow
Open|SpeedShop to automatically attach to all of the user's MPI ranked
processes. &nbsp; Currently, Open|SpeedShop automatically attaches to
all ranked processes for MPI applications using MPT, MPICH, MPICH via
SLURM, OpenMPI, or
LAMPI MPI implementations.&nbsp; <br>
  <br>
</blockquote>
<p class="MsoBodyText"><span style=""><span style=""><span style=""><span
 style=""></span></span></span></span></p>
<blockquote>
  <h2><a class="mozTocH2" name="mozTocId696903"></a><b style=""><span
 style=""><span style=""><span style=""><span style=""><a
 name="GUI_Tool_"></a><span style=""><span style=""><!--[if !supportLists]-->Using
the GUI Tool</span></span></span></span></span></span></b></h2>
</blockquote>
<blockquote>The <b>Open|SpeedShop</b> GUI contains a main window
from which
users can choose a wizard to help choose the proper experiment based on
input to the wizard selecting questions.&nbsp; The GUI also contains a
source view panel, a statistics panel, and command panel.<b style=""><br>
  </b></blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <h3><a class="mozTocH3" name="mozTocId374469"></a><b style="">GUI
Launch
Background
Information:<br>
    </b></h3>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <p>The GUI is bundled into a dynamic library that is
loaded on
demand.&nbsp;&nbsp;
It's the Command Line Interface (CLI) that launches the
GUI.&nbsp;&nbsp; By
default the CLI will launch the GUI upon invocation of the <b>Open|SpeedShop</b>
tool.&nbsp;&nbsp;
However, the CLI can be started without starting the GUI ($ openss
-cli)
and then the GUI can loaded and initialized when needed via the CLI "<a
 href="../cli_doc/definition.html#mozTocId753973">openGui</a>"
command.<br>
    </p>
    <p>Upon invoking <b>Open|SpeedShop</b>
($ openss) the command line is parsed, and if the GUI is requested, the
GUI
library is loaded and launched.&nbsp; <b>Open|SpeedShop</b> then drops
into an
event loops, one for parsing command line events and the other for
parsing GUI events.</p>
    <p>When the GUI is loaded, the GUI looks for GUI
plugins in the
default
directory and in the OPENSS_PLUGIN_DIR environment variable
path.&nbsp;
Each file in the directory is opened and an internal entry point is
queried.&nbsp;&nbsp; If found, the plugin manager calls the entry
point, initializes
any exported menus, brings up the GUI, and then drops into the main
event
loop waiting for user interaction.<b style=""><br>
    </b></p>
    <b style=""> </b>
    <h3><a class="mozTocH3" name="mozTocId325154"></a><b style=""><a
 name="Basic_Menus_and_Menu_Item_Introduction"></a>Basic Menus and Menu
Item Introduction</b></h3>
This section briefly discusses the <b>Open|SpeedShop</b> GUI
menus and their
corresponding menu items.&nbsp;&nbsp; We will touch on the&nbsp; File
menu, Tools menu, Experiments menu, and the Wizards menu, as shown at
the top of the <span style="font-weight: bold;">Open|SpeedShop</span>
window below.<br>
    <br>
    <b style=""> <img alt="Initial OpenSpeedShop GUI Panel"
 title="Initial OpenSpeedShop GUI Panel" src="InitialPanel.png"
 style="height: 655px; width: 851px;"><br>
    </b></blockquote>
  <br>
  <blockquote>
    <h4><a class="mozTocH4" name="mozTocId909976"></a><b style=""><a
 name="File_Menu_"></a>File
Menu </b></h4>
The File menu contains the menu items shown below:<br>
    <br>
    <img alt="Open|SpeedShop GUI File Menu"
 title="Open|SpeedShop GUI File Menu" src="FileMenu.png"
 style="width: 256px; height: 217px;"><br>
    <b style=""> <br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId185104"></a><b style=""><a
 name="Open_Experiment"></a>Open
Existing Experiment</b></h5>
This menu item allows the user to open an experiment
that was started or was being run via the interactive command
line.&nbsp; By opening the
experiment, the user focuses the graphical user interface to that
experiment and gains access to the performance data gathered so
far and control over the experiment.&nbsp;&nbsp; In the example dialog
below, the user is about to focus on experiment 2 which is a usertime
experiment.&nbsp;&nbsp; By selecting the experiment and clicking the OK
button experiment 2 becomes the focused (current)
experiment.&nbsp;&nbsp; Actions taken in the graphical user interface
will now affect this experiment.<br>
    <br>
    <img alt="Open Existing Experiment Dialog"
 title="Open Existing Experiment Dialog"
 src="OpenExistingExperiment.png" style="width: 545px; height: 377px;"><br>
    <b style=""> <br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId25302"></a><b style=""><a
 name="Open_Saved_Experiment"></a>Open Saved Experiment</b></h5>
This menu item allows the user to re-open a saved
experiment that was saved via the <a href="Save%20Experiment%20Data">Save
Experiment Data</a> menu item.&nbsp; Performance data contained in the
experiment may be reexamined and redisplayed once the experiment is
opened again.&nbsp;&nbsp; In this example the user has chosen to open a
saved <span style="font-weight: bold;">Open|SpeedShop</span>
experiment file named
sweep3d-256.openss.&nbsp;&nbsp; ".openss" is the default name for
experiment files created by <span style="font-weight: bold;">Open|SpeedShop</span>.<br>
    <br>
    <b style=""> <img alt="Open A Saved Experiment Dialog"
 title="Open A Saved Experiment Dialog" src="OpenSavedExperiment.png"
 style="width: 637px; height: 302px;"><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId577794"></a><b style=""><a
 name="Save_Experiment_Data"></a>Save Experiment Data</b></h5>
The Save Experiment Data menu item writes the <b>Open|SpeedShop</b>
performance experiment information and data
to a
filename specified by the user.&nbsp;&nbsp; The information saved will
allow the user to examine and display performance information at a
later time by opening this saved file with the <a
 href="Save_Experiment_Data">Open Saved Experiment</a> menu
item.&nbsp;&nbsp; In this example, the user has chosen to save the
usertime experiment whose experiment identification number is two
(2).&nbsp;&nbsp;&nbsp; <br>
    <br>
    <b style=""><img alt="Save a Experiment File Dialog"
 title="Save a Experiment File Dialog" src="SaveExperiment.png"
 style="width: 521px; height: 306px;"><br>
    <br>
    </b>After clicking the OK button this dialog will bring up another
dialog box asking the user to name the file to be saved.<br>
    <br>
    <img alt="Give a name to the file to be saved."
 title="Give a name to the file to be saved."
 src="SaveExperimentGiveName.png" style="width: 637px; height: 302px;"><br>
    <br>
Clicking the "Save" button saves the <span style="font-weight: bold;">Open|SpeedShop</span>
performance
experiment data file.&nbsp;&nbsp; This file can be opened using the "<a
 href="#Open_Saved_Experiment">Open Saved Experiment</a>" menu item for
viewing and analysis of the performance data saved within that file.<br>
    <h4><a class="mozTocH4" name="mozTocId527863"></a><b style=""><a
 name="Experiments_Menu"></a>Experiments
Menu</b></h4>
The Experiments Menu contains items corresponding to
the experiments
that are installed in the tool.&nbsp;
In this example six experiments are available.&nbsp; The experiment
panel can be accessed by clicking on the
corresponding menu items.<br>
    <br>
    <img alt="Open|SpeedShop Experiment Menu Items"
 title="Open|SpeedShop Experiment Menu Items"
 src="ExperimentMenuItems.png" style="width: 215px; height: 281px;"><br>
    <b style=""> <br>
    <br>
    </b>At this time, the Version 1.00 Release,&nbsp;
all the
experiments, with the exception of the floating point exception,
FPE,&nbsp; experiment are developed.&nbsp; Clicking on the menu item
will bring up that particular experiment panel.&nbsp; For example,
clicking on the PC Sampling menu item will bring up
the program counter (PC) Sampling experiment panel as shown in the PC
Sampling Experiment section.<b style=""><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId840467"></a><b><b style=""><a
 name="FPE_Tracing_Experiment"></a>Custom
Experiment</b></b></h5>
The custom experiment allows users to define their own
experiment.&nbsp;&nbsp;&nbsp; Details are TBD at this point.<br>
    <h5><a class="mozTocH5" name="mozTocId653796"></a><b style=""><a
 name="FPE_Tracing_Experiment"></a>FPE Tracing Experiment</b></h5>
    <p>A floating-point exception trace collects each floating-point
exception with the exception type and the call stack at the time of the
exception. Floating-point exception tracing experiments should incur a
slowdown in execution of the program of no more than 15%.&nbsp; These
measurements are exact, not statistical.</p>
    <b style=""> </b>
    <h5><a class="mozTocH5" name="mozTocId746748"></a><b style=""><a
 name="HW_Counter_Experiment"></a>HW Counter Experiments</b></h5>
    <p>In the <b>Open|SpeedShop</b>
hardware counter experiments, overflows of a particular hardware
counter are recorded. Each hardware counter is configured to count from
zero to a number designated as the <i>overflow value</i>. When the
counter reaches the overflow value, the system resets it to zero and
increments the number of overflows at the present program instruction
address. Each experiment provides two possible overflow values; the
values are prime numbers, so any profiles that seem the same for both
overflow values should be statistically valid.</p>
    <p>The experiments described in this
section are available for systems
that have hardware counters.&nbsp; Hardware counters allow you to count
various types of
events, such as cache misses and counts of issued and graduated
instructions.</p>
    <p>A hardware counter works as follows:
for each event, the appropriate
hardware counter is incremented on the processor clock cycle. For
example, when a floating-point instruction is graduated in a cycle, the
graduated floating-point instruction counter is incremented by 1.</p>
    <p>These experiments are detailed by
nature. They return information
gathered at the hardware level. You probably want to run a higher level
experiment first.&nbsp; Once you have narrowed the scope, you can use
hardware counter experiments to pinpoint the area to be tuned.</p>
The following sections describe
hardware counter experiments available in <b>Open|SpeedShop</b>.<br>
    <h6><a class="mozTocH6" name="mozTocId545662"></a><big><tt>hwc</tt>
Hardware Counter Experiment</big></h6>
The <tt>hwc</tt>
hardware counter experiment shows where the overflows are being
triggered in the program: at the
function, source-line, or individual instruction level.&nbsp;&nbsp;
When you create a report from the data collected during the experiment
using the <b>Open|SpeedShop</b> GUI or CLI tools, the overflow counts
are
multiplied by the overflow value to compute the total number of events.
These numbers are statistical, meaning they are not precise. The
generated reports show exclusive hardware counts: that is, information
about where the program counter was.&nbsp;
    <p>Hardware counter overflow
profiling experiments should incur a
slowdown of execution of the program of no more than 5%.&nbsp; <br>
    </p>
    <div class="titlepage">
    <h6><a class="mozTocH6" name="mozTocId428805"></a><big><tt>hwctime</tt>
Hardware Counter Experiment</big></h6>
    </div>
    <p>The <tt>hwctime</tt>
hardware counter experiments also show where the overflows are being
triggered in the program. These experiments are similar to the <tt>hwc</tt>
experiments, but record the callstack information rather than showing
where the program counter was when the overflow occurred.</p>
    <h5><a class="mozTocH5" name="mozTocId845390"></a><b style=""><a
 name="IO_Experiment"></a>Input/Output (I/O)
Experiment</b></h5>
The input/output (I/O) experiment captures several of the input and
output system calls and records the time spent and the number of calls
in each routine.&nbsp; The call stack is also recorded.&nbsp; This
allows the user to<span style="font-weight: bold;"> </span>interrogate
the call stacks to find out where each
call has been made in the application program<b style=""><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId279794"></a><b><b style="">Input/Output
Trace (IOT)
Experiment</b></b></h5>
The input/output trace (IOT) experiment captures several of the input
and
output system calls and records the time spent, the number of calls
in each routine, and also other data items that are related to the
specific I/O system call.&nbsp;&nbsp; Call stacks are also
recorded,&nbsp; allowing the
user to interrogate the call stacks to find out where each call has
been
made in the application program<b style=""><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId466177"></a><b style=""><a
 name="MPI_Experiment"></a>MPI
Experiment</b></h5>
The MPI experiment captures the time spent in and the number of times
each MPI function is called in the user's application program.<b
 style=""><span style="font-weight: bold;"></span>&nbsp;</b>&nbsp; The
user also has the option of displaying this data in the trace
format.&nbsp;&nbsp; When using the trace format each event is presented
individually showing the start end end time for the MPI function call.<b
 style=""><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId611799"></a><b><b style=""><a
 name="MPIT_Experiment"></a>MPIT
Experiment</b></b></h5>
This experiment captures each MPI function call event and records
specific data corresponding to that particular call.&nbsp; The user is
then able to display each of the MPI call event and it's data through
the <span style="font-weight: bold;">Open|SpeedShop</span> GUI or
command line interface (CLI)..<br>
    <h5><a class="mozTocH5" name="mozTocId993712"></a><b style=""><a
 name="PC_Sampling_Experiment"></a>PC Sampling Experiment</b></h5>
    <h6><a class="mozTocH6" name="mozTocId450283"></a><big><tt><span
 style="font-family: helvetica;">pcsamp</span></tt> PC
Sampling Experiment</big></h6>
The <tt>pcsamp</tt>
experiment estimates
the actual CPU time for each source code line, machine code line, and
function in your program. The Command Line Interface performance
results
listing and the GUI performance results panel of this experiment show
both inclusive and exclusive PC sampling time. This
experiment is a lightweight, high-speed operation that makes use of the
operating system.
    <p>CPU time is calculated by multiplying
the number of times an
instruction or function appears in the PC by the interval specified for
the experiment (for example: 1 or 10 milliseconds).</p>
To collect the data, the operating
system regularly stops the
process, increments a counter corresponding to the current value of the
PC, and resumes the process. The default sample interval is 10
milliseconds.<br>
    <br>
PC sampling runs should slow the
execution time of the program down no
more than 5 percent. The measurements are statistical in nature,
meaning they exhibit variance inversely proportional to the running
time.<br>
    <br>
    <h5><a class="mozTocH5" name="mozTocId733641"></a><b style=""><a
 name="User_Time_Experiment"></a>User Time Experiment</b></h5>
    <h6><a class="mozTocH6" name="mozTocId848866"></a><tt><span
 style="font-family: helvetica;">&nbsp;<big>usertime</big></span></tt><big>
User Time
Experiment</big><br>
    </h6>
    <p style="font-family: serif;">The usertime
experiment is a useful
experiment to start your performance analysis. The usertime experiment
returns CPU time for each function while your program runs.</p>
    <p style="font-family: serif;">This experiment
uses a statistical
call stack profiling to measure inclusive and exclusive user <font
 style="color: rgb(0, 0, 0);" color="darkred"><span
 style="background-color: rgb(204, 204, 204);"></span></font>time. It
takes a sample every 30 milliseconds.&nbsp; Data is measured
by
periodically sampling the callstack. The program's callstack data is
used to do the following:</p>
    <div style="font-family: serif;" class="itemizedlist">
    <ul type="disc">
      <li>
        <p>Attribute exclusive user <font style="color: rgb(0, 0, 0);"
 color="darkred"><span style="background-color: rgb(204, 204, 204);"></span></font>time
to the function at the bottom of each callstack (that is, the
function being executed at the time of the sample).</p>
      </li>
      <li>
        <p>Attribute inclusive user<font style="color: rgb(0, 0, 0);"
 color="darkred"><span style="background-color: rgb(204, 204, 204);"></span></font>
time to all the functions above the one currently being executed (those
involved in the chain of calls that led to the function at the bottom
of the callstack executing).</p>
      </li>
    </ul>
    </div>
    <p style="font-family: serif;">The time spent in
a procedure is
determined by
multiplying the number of times an instruction for that procedure
appears in the stack by the sampling time interval between call stack
samples. Call stacks are gathered when the program is running; hence,
the time computed represents user
time, not time spent when the program is waiting for a CPU.&nbsp; User <font
 style="color: rgb(0, 0, 0);" color="darkred"><span
 style="background-color: rgb(204, 204, 204);"></span></font>time shows
both the time the program itself is executing and the time
the operating system is performing services for the program, such as
I/O.</p>
    <p style="font-family: serif;">The usertime
experiment should incur
a program execution slowdown of no more than 15%.&nbsp; Data from a
usertime experiment is statistical in nature and shows some variance
from run to run.</p>
    <b style=""> </b>
    <h4><a class="mozTocH4" name="mozTocId150174"></a><b style=""><a
 name="Wizard_Menu_"></a>Wizard
Menu</b></h4>
    <b style=""> <img alt="Open|SpeedShop GUI Wizard Menu Items"
 title="Open|SpeedShop GUI Wizard Menu Items" src="WizardMenuItems.png"
 style="width: 200px; height: 206px;"><br>
    <br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId528369"></a><b style=""><a
 name="Compare_Wizard"></a>Compare Wizard<br>
    </b></h5>
See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a><br>
for the general pattern of wizard usage.<br>
    <h5><a class="mozTocH5" name="mozTocId104652"></a><b style=""><a
 name="FPE_Tracing_Experiment_Wizard"></a>Floating Point Exception
(FPE) Tracing Experiment Wizard</b></h5>
The Floating Point Exception (FPE) Trace wizard uses the basic
Open|SpeedShop wizard functionality while guiding the user through the
selection of parameters and executables that will be included in the
Floating Point Exception trace experiment.&nbsp; See the Wizard
description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard usage.<br>
    <h5><a class="mozTocH5" name="mozTocId370594"></a><b style=""><a
 name="HW_Counter_Experiment_Wizard"></a>HW Counter Experiment Wizard<br>
    </b></h5>
The Hardware Counter (HWC) wizard uses the basic Open|SpeedShop wizard
functionality
while guiding the user through the selection of parameters and
executables that will be included in the hardware counter trace
experiment.&nbsp;&nbsp; See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard usage.&nbsp; The
differences from the typical usages are explained in this
section.&nbsp;&nbsp; <br>
    <h5><a class="mozTocH5" name="mozTocId594761"></a><b style=""><a
 name="IO_Experiment_Wizard"></a>I/O Experiment Wizard<br>
    </b></h5>
See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard usage.<br>
    <h5><a class="mozTocH5" name="mozTocId275633"></a><b style=""><a
 name="MPI_Experiment_Wizard"></a>MPI Experiment Wizard<br>
    </b></h5>
See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard usage.<br>
    <h5><a class="mozTocH5" name="mozTocId373490"></a><b style=""><a
 name="PC_Sampling_Experiment_Wizard_"></a>PC Sampling Experiment Wizard<br>
    </b></h5>
See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard usage.&nbsp; The
typical use example there is of the PC Sampling Experiment wizard.<br>
    <b style=""> </b>
    <h5><a class="mozTocH5" name="mozTocId501416"></a><b style=""><a
 name="User_Time_Experiment_Wizard"></a>User Time Experiment Wizard<br>
    </b></h5>
See the Wizard description for <a
 href="index.html#Typical_OpenSpeedShop_GUI_Wizard_Usage">Typical
Open|SpeedShop
GUI Wizard Usage</a> for the general pattern of wizard
usage.&nbsp;&nbsp; The following GUI views show how to select the
usertime experiment through the Wizard facility and what GUI window
views to expect along the way.&nbsp;&nbsp; The advantage of the
Usertime experiment over PC Sampling is that the views of the Usertime
performance data show calling tree information.<br>
    <br>
    <img alt="Choosing the Usertime Experiment"
 title="Choosing the Usertime Experiment" src="UserTimeIntroWizard.png"
 style="width: 860px; height: 644px;"><br>
    <br>
The next GUI view after selecting the usertime option above is a
summary of what the usertime experiment does and the performance data
to be expected.<br>
    <br>
    <img alt="Usertime Wizard Overview" title="Usertime Wizard Overview"
 src="UserTimeWizard2.png" style="width: 860px; height: 644px;"><br>
    <br>
After clicking "Next" button to continue, the User Time experiment
parameter is displayed with the option of changing it.<br>
    <br>
    <img alt="Pick Arguments for Usertime Experiment via the Wizard"
 title="Pick Arguments for Usertime Experiment via the Wizard"
 src="UserTimeWizardArgs.png" style="width: 860px; height: 644px;"><br>
    <br>
This GUI view allows the user to select the executables to be
associated with this experiment.&nbsp; They can be loaded from disk or
can be attached to.<br>
    <br>
    <img
 alt="PIck the Executables for the Usertime Experiment via the Wizard"
 title="PIck the Executables for the Usertime Experiment via the Wizard"
 src="UserTimeWizardExecutables.png"
 style="width: 860px; height: 644px;"><br>
    <br>
This window will appear when you choose the load executable from
disk.&nbsp; By selecting the executable "fred" and clicking the "OK"
button.<br>
    <br>
    <img alt="Load Executable for UserTime Experiment"
 title="Load Executable for UserTime Experiment"
 src="UserTimeWizardLoadFred.png" style="width: 539px; height: 280px;"><br>
    <br>
The UserTime Wizary summary window appears after the selection of the
executable above.&nbsp;&nbsp; To change any of the selections choose
the "Back" button, otherwise to actually run the performance
experiment, choose the "Finish" button.&nbsp; The actual UserTime
Experiment window will appear after the executable is loaded.<br>
    <br>
    <img alt="Usertime Wizard Summary Page"
 title="Usertime Wizard Summary Page" src="UserTimeWizardSummary.png"
 style="width: 860px; height: 644px;"><br>
    <br>
The UserTime experiment window allows the user to start the experiment
and the application by clicking on the "Run" button.&nbsp;&nbsp; After
the experiment is running, it may be paused temporarely by clicking on
the "Pause" button.&nbsp;&nbsp;&nbsp; The "Run" button will restart the
experiment.&nbsp;&nbsp;&nbsp; <br>
    <br>
    <img alt="UserTime Experiment Initial Window"
 title="UserTime Experiment Initial Window" src="UserTimeExperiment.png"
 style="width: 860px; height: 644px;"><br>
    <br>
When the experiment is completed, Open|SpeedShop will automatically
show the results of the experiment by displaying a statistics panel as
shown below.<br>
    <br>
    <img alt="Usertime Results Panel" title="Usertime Results Panel"
 src="UserTimeExperimentResults.png"
 style="width: 860px; height: 644px;"><br>
    <h5><a class="mozTocH5" name="mozTocId167122"></a><b style=""><a
 name="Preferences_Menu_Item"></a>Preferences Menu Item <br>
    </b></h5>
Selecting the Preferences menu item will cause the <b>Open|SpeedShop</b>
Preferences Dialog window to appear.&nbsp;&nbsp; Selections for various
configuration items can be done by selecting either General or a
specific panel and then changing the particular preference item and
clicking either the Apply button or the Ok button.&nbsp;&nbsp; The
Apply button will apply the changes without exiting the preference
processing window.&nbsp;&nbsp; Pressing the Ok button will apply the
changes and exit the preference processing window.<br>
    <br>
Currently there are three areas of preference processing:<b style=""><br>
    </b>
    <h6><a class="mozTocH6" name="mozTocId166891"></a>General:</h6>
    <img alt="Open|SpeedShop General Preference Panel"
 title="Open|SpeedShop General Preference Panel"
 src="Preferences-General.png" style="width: 630px; height: 593px;"><br>
    <br>
    <br>
The General preferences are, as
the general title implies, for setting
items that apply to the overall <b>Open|SpeedShop</b> tool.&nbsp;
Items such
as font characteristics, graphics, splash screen, and remote shell
command processing are now supported.<br>
    <b style=""> <br>
    </b>
    <h6><a class="mozTocH6" name="mozTocId683332"></a>Statistics Related</h6>
    <img alt="Open|SpeedShop Statistics Preference Panel"
 title="Open|SpeedShop Statistics Preference Panel"
 src="Preferences-Stats.png" style="width: 630px; height: 593px;"><br>
    <br>
    <br>
The statistics related preferences
apply to the performance experiment
results presentation.&nbsp;&nbsp; How to sort the results, what column
to sort from, and how many result items do you want displayed are the
current options supported.<br>
    <h6><a class="mozTocH6" name="mozTocId603411"></a>Source Related</h6>
    <img alt="Open|SpeedShop Source Preference Panel"
 title="Open|SpeedShop Source Preference Panel"
 src="Preferences-Source.png" style="width: 630px; height: 593px;"><br>
    <br>
    <br>
The source panel preferences are
show line numbers and
statistics.&nbsp;&nbsp; Statistics when set will present the
performance results integrated with the source.&nbsp;&nbsp;&nbsp; See
the source panel with statistics image at this <a
 href="#Source_Panel_Statistics">link</a>.<br>
    <br>
The source panel preferences also allow the user to map the original
build path to the new location of the source, if the source and program
have been moved.&nbsp;&nbsp; In the example below, the source for the
program being analyzed was originally located in /data/clink/a45/stipek
but was relocated to /work/jeg.&nbsp;&nbsp;&nbsp; By inputing this
information to the preference panel (see below) the user will be able
to view the source for the program at the new location (/work/jeg).<br>
    <br>
    <img alt="Remap the path to program source files"
 title="Remap the path to program source files"
 src="PreferencePanel-SourcePathRedirection.png"
 style="width: 630px; height: 593px;"><br>
    <br>
    <h6><a class="mozTocH6" name="mozTocId939535"></a><a
 name="Manage_Process_Panel_Related"></a>Manage Process Panel
Related</h6>
    <img alt="Open|SpeedShop Manage Process Preference Panel"
 title="Open|SpeedShop Manage Process Preference Panel"
 src="Preferences-ManageProcessPanel.png"
 style="width: 630px; height: 593px;"><br>
    <br>
    <br>
    <h5><a class="mozTocH5" name="mozTocId940600"></a><b style=""><a
 name="Close_Menu_Item"></a>Close
Menu Item</b></h5>
&nbsp;The Close menu item will cause the window to
close but the <b>Open|SpeedShop</b> will continue......<b style=""><br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId494559"></a><b style=""><a
 name="Exit_Menu_Item"></a>Exit
Menu Item</b></h5>
&nbsp; The Exit menu item will cause the <b>Open|SpeedShop</b>
tool to
completely stop execution and close all windows.<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId781350"></a><b style=""><a
 name="Tools_Menu"></a>Tools
Menu</b></h4>
The Tools Menu contains items for the panels that have
been
created.&nbsp; In this example three panels can be accessed by clicking
on the corresponding menu items.<b style=""><br>
    <br>
    <img alt="Tools Menu" src="ToolsMenu.png"
 style="width: 157px; height: 52px;"><br>
    </b></blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <h5><a class="mozTocH5" name="mozTocId248646"></a><b style=""><a
 name="Command_Panel"></a>Command
Panel</b></h5>
The command panel is the panel that supports input of
the same set of
interactive command line interface (CLI) commands.&nbsp; These are the
commands that that may be entered when the <b>Open|SpeedShop</b> tool
is
invoked via "openss -gui".&nbsp;&nbsp; See the <a
 href="../cli_doc/command_definition.html">CLI command section</a> for
more information.<b style=""><br>
    <br>
    </b>
    <h5><a class="mozTocH5" name="mozTocId788584"></a><b style="">Source
Panel</b></h5>
This menu item brings up the source panel window.&nbsp;
There are a number of options available in the source panel that can be
viewed by holding right mouse button:<br>
    <br>
    <img alt="Open|SpeedShop Source Panel"
 title="Open|SpeedShop Source Panel" src="SourcePanel.png"
 style="width: 851px; height: 655px;"><br>
    <b style=""> </b></blockquote>
  <blockquote> <b style=""> </b>
    <h5><a class="mozTocH5" name="mozTocId757134"></a><b style="">Stats
Panel</b></h5>
Although the Stats Panel isn't
part of the tool menu it is a panel that
is available from the experiment tab panel and is a significant&nbsp;
panel.&nbsp;&nbsp; It is home to many of the important options used in
viewing the performance experiment results.&nbsp; Options currently
available (viewed by right mouse down click in Stats Panel tab) include:<br>
    <ul>
      <li>Choosing experiment result metrics</li>
      <li>Choosing process, thread, or rank to view</li>
      <li>Comparing results <br>
      </li>
      <li>Exporting/Saving result data <br>
      </li>
    </ul>
    <img alt="Open|SpeedShop Statistics Panel"
 title="Open|SpeedShop Statistics Panel" src="StatsPanel.png"
 style="width: 851px; height: 655px;"><br>
  </blockquote>
  <br>
  <blockquote> <a class="mozTocH5" name="mozTocId527350"></a><b
 style=""> </b>
    <h3><a class="mozTocH3" name="mozTocId464050"></a><b style=""><a
 name="Typical_OpenSpeedShop_GUI_Wizard_Usage"></a>Typical
Open|SpeedShop GUI Wizard Usage<br>
    </b></h3>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote>Having launched the GUI via either the openss
-gui
or by default with the openss default command (no -cli, -batch,
or -gui options), the initial window will look like this:<b style=""><br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId943081"></a><a
 name="Initial_Wizard_Display"></a>Introductory Wizard Display<br>
    </h4>
    <a class="mozTocH4" name="mozTocId549331"></a><b style=""> </b> </blockquote>
</blockquote>
<blockquote> <b style=""> </b> </blockquote>
<p style="margin-left: 80px;"><b style=""><img
 alt="Wizard Startup Panel - Initial Open|SpeedShop Panel"
 src="InitialPanel.png" style="width: 860px; height: 644px;"><br>
</b></p>
<b style=""> </b> <br>
<blockquote>
  <blockquote>Given this window the user can answer the wizard
questions and
proceed by clicking on the Next button on the lower right hand side of
the <b>Open|SpeedShop</b> GUI window.&nbsp; In this example the user
has
chosen the default option which is to find out where the time is spent
in the user's yet to be defined application.&nbsp;&nbsp; When the user
clicks on the Next button this is the window that appears.<b style=""><br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId197580"></a><b style=""><a
 name="PC_Sampling_Wizard"></a>PC Sampling Wizard
- Initial Display<br>
    </b></h4>
    <b style=""> </b></blockquote>
  <b style=""> </b> </blockquote>
<div style="margin-left: 80px;"><b style=""><img
 alt="Second PC Sampling Exp. Wizard Window"
 src="PC_SamplingWizard-2.png" style="width: 860px; height: 644px;"><br>
</b></div>
<blockquote> <b style=""> <br>
  </b>
  <blockquote>The above panel/window is the introduction
panel to the
PC (Program
Counter) Sampling Experiment Wizard.&nbsp; This panel explains what the
    <b>Open|SpeedShop</b> experiment, named PC sampling does.&nbsp; The
program
counter sampling experiment takes periodic samples of the machines
program counter and stores them.&nbsp;&nbsp; Later in analysis the <b>Open|SpeedShop</b>
tool associates the program counter addresses
with the
user's application and reports which functions, and/or source lines
were executed during the applications execution.&nbsp;&nbsp; The user
can now click on Next to proceed with the wizard process, go back, or
quit the wizard by clicking on the Finish button.&nbsp;&nbsp; Here is
the next window in the wizard process assuming the user clicked on the
Next button.<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId68517"></a><a
 name="PC_Sampling_Wizard_-_Change_Sampling_"></a>PC Sampling
Wizard - Change Sampling Rate Display<br>
    </h4>
    <b style=""> </b></blockquote>
  <b style=""> </b></blockquote>
<blockquote><b style=""> </b></blockquote>
<p style="margin-left: 80px;"><b style=""><img
 alt="Third PC Sampling Exp. Wizard Window"
 src="PC_SamplingWizard-3.png" style="width: 860px; height: 644px;"><br>
</b></p>
<p class="MsoBodyText" style="margin-left: 0.5in;">
</p>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b> <br>
The
above panel/window is the parameter selection panel for the PC (Program
Counter) Experiment Wizard.&nbsp; This panel allows the user to set the
sampling rate at which the PC sampling experiment will sample the
program counter and save that address as the experiment measurement
data.&nbsp; The Program Counter experiment
takes the periodic samples of the machines program counter and stores
them.&nbsp;&nbsp; Later in analysis the <b>Open|SpeedShop</b> tool
associates
the
program counter addresses with the user's application and reports which
functions, and/or source lines were executed during the applications
execution.&nbsp;&nbsp; The user can now click on Next to proceed with
the wizard
process, go back, or quit the wizard by clicking on the Finish
button.&nbsp;&nbsp; The user may also click on the Reset button, which
will reset the parameter to the default value.&nbsp; Here is the next
window in the wizard process assuming the
user clicked on the Next button.<b style=""><br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId555143"></a><a
 name="PC_Sampling_Wizard_-_Load_Executable"></a>PC Sampling
Wizard - Load Executable or Attach To Running Process Display<br>
    </h4>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote><b style=""><br>
  </b> </blockquote>
<div style="margin-left: 80px;"><b style=""><img
 alt="Attach/Load Executable Wizard Window"
 src="PC_SamplingWizard-3A.png" style="width: 860px; height: 644px;"><br>
</b></div>
<blockquote> <b style=""> <br>
  </b>
  <blockquote>The panel/window above allows the user to
select the
executables or
attach to a set of running processes.&nbsp;&nbsp; By selecting the
"Load an Executable from Disk" item the user will cause a selection
window to appear.&nbsp; Using the selection window the user can click
on executables to be the application that the PC sampling experiment
will gather data for.<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId788759"></a><a
 name="PC_Sampling_Wizard_-_Enter_Executable"></a>PC Sampling
Wizard - Enter Executable Dialog Display<br>
    </h4>
    <br>
  </blockquote>
  <div style="margin-left: 40px;"><b style=""><img
 alt="Fourth PC Sampling Exp. Wizard Window"
 src="PC_SamplingWizard-4.png" style="width: 520px; height: 280px;"></b><br>
  </div>
  <br>
</blockquote>
<blockquote> <b style=""> </b>
  <div style="margin-left: 40px;">The panel above shows the
executable
selection window which allows the user to select the executable they
would like to load and subsequently have performance analysis done on.<br>
  <b style=""><br>
  </b>
  <h4><a class="mozTocH4" name="mozTocId756188"></a>PC Sampling Wizard
- Attach To Running Process Dialog Display</h4>
  <br>
  <img alt="Attach to running process - fred"
 src="PC_SampleWizard-AttachToRunningProcess-fred.png"
 style="width: 521px; height: 306px;"><br>
  <b style=""><br>
  </b>An alternative to the loading the executable is to attach to a
running
process.&nbsp;&nbsp; For example in this case, had the executable,
fred, been already running, the above dialog display allows the user to
select the running process for fred, another process, or multiple
processes.&nbsp;&nbsp;&nbsp;&nbsp; <a
 href="#Attaching_to_Already_Running_MPI">See the attaching to an
already running MPI job section</a>&nbsp; which discusses attaching
to an entire MPI job using this dialog display.<b style=""><br>
  <br>
  </b>
  <h4><a class="mozTocH4" name="mozTocId803440"></a><a
 name="PC_Sampling_Wizard_-_Experiment_Summary"></a>PC Sampling
Wizard - Experiment Summary Display</h4>
  <b style=""> <br>
  </b></div>
  <div style="margin-left: 40px;"><b style=""><img
 alt="Finish/Summary Wizard Window" src="PC_SamplingWizard-5.png"
 style="width: 860px; height: 644px;"></b><br>
  </div>
  <b style=""> </b> <b style=""> </b>
  <blockquote>The panel/window above summarizes the results
of the
user's choices and
tells the user to complete the process of creating the PC sampling
experiment the user should click on the Finish button.&nbsp;&nbsp; Once
the user clicks on the Finish button the PC sampling experiment window
will appear.<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId759827"></a><a
 name="PC_Sampling_Experiment_Display"></a>PC Sampling
Experiment Display</h4>
    <br>
  </blockquote>
  <b style=""> </b> </blockquote>
<div style="margin-left: 80px;"><b style=""><img
 alt="Ready To Run PC Sampling Experiment"
 src="PC_SamplingWizard-6_OR_PC_SampleExperiment-1.png"
 style="width: 860px; height: 644px;"><br>
</b></div>
<blockquote> <b style=""> </b>
  <div style="margin-left: 40px;"><b style=""> </b>
  <h4><a class="mozTocH4" name="mozTocId522543"></a><b style=""><a
 name="Ready_to_Run_the_Experiment"></a>Ready to Run the Experiment<br>
  </b></h4>
  <b style=""> </b></div>
  <b style=""> </b>
  <blockquote>The panel/window above is the PC Sampling
experiment
window.&nbsp;&nbsp; The experiment is ready to run.&nbsp; Note that in
the Status output output area the executable mutatee is
loaded.&nbsp;&nbsp; <br>
    <br>
The process control area provides icons that may be clicked on to
control the execution of the experiment.&nbsp; The icon to action&nbsp;
translation is as follows:<br>
    <ul>
      <li>=&gt;&nbsp;&nbsp;&nbsp;&nbsp; Run the experiment</li>
      <li>|=&gt;&nbsp;&nbsp;&nbsp; Continue the experiment<br>
      </li>
      <li>=&gt;|&nbsp;&nbsp;&nbsp; Pause the experiment</li>
      <li>|=&gt;&nbsp;&nbsp;&nbsp; Run to Next statement</li>
      <li>\&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Step into the next
statement</li>
      <li>!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Stop the
experiment<br>
      </li>
    </ul>
    <br>
The source panel contains the source associated with the loaded
application/executable.&nbsp;&nbsp; To run the experiment, click on the
right arrow icon, which corresponds to the Run button.&nbsp;&nbsp;
Doing this will engage <b>Open|SpeedShop</b> to start the application
and to
gather the PC Sampling performance data at the sampling rate chosen in
the previous step(s).<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId691783"></a><a
 name="PC_Sampling_Experiment_-_Running"></a>PC Sampling
Experiment - Running Experiment Display</h4>
    <br>
    <br>
    <b style=""> </b></blockquote>
  <div style="margin-left: 40px;"><b style=""><img
 alt="Running Experiment" src="PC_SampleExperiment-2.png"
 style="width: 860px; height: 644px;"></b><br>
  <b style=""> </b></div>
</blockquote>
<div style="margin-left: 80px;"><b style=""><br>
</b>
<h4><a class="mozTocH4" name="mozTocId439325"></a>PC Sampling
Experiment - Paused experiment use Continue button to continue</h4>
The window below is here to illustrate that once the experiment has
been paused (by clicking the Pause button), use the Cont (continue)
button to continue the experiment.&nbsp; The Run button may be used to
restart the experiment from the beginning.<br>
<br>
<br>
<img
 alt="Continue button used to continue the experiment or Run button to start from the beginning"
 title="Experiment is paused, use continue button"
 src="PC_SampleExperiment-PausedShowContinue.png"
 style="width: 860px; height: 644px;"><br>
<b style=""><br>
<br>
</b>The image below shows the results after the experiment is
completed.&nbsp;&nbsp; Because the "Show graphics" preference was set,
a pie chart is displayed.&nbsp;&nbsp; To view the source and the
results side by side.&nbsp;&nbsp; Click on one of the split panel icons
on the right hand side of the PC Sampling panel.<br>
<b style=""><br>
</b>
<h4><a class="mozTocH4" name="mozTocId441285"></a><a
 name="PC_Sampling_Experiment_-_Statistics"></a>PC Sampling
Experiment - Statistics Display</h4>
<b style=""><br>
</b></div>
<div style="margin-left: 80px;"><b style=""><img
 alt="Stats Panel - Results from PC Sampling"
 src="PCSampling-StatsPanel.png" style="width: 860px; height: 644px;"></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><br>
</b></div>
<div style="margin-left: 80px;">Either clicking on the
split panel icon or holding the right mouse
button down in
either the Source Panel tab or
the Stats Panel tab will show a menu of user choices for various
actions to be taken on the panel structure, panel contents, or
performance date.&nbsp; To split the panel container so that the source
and
performance data results (PC Stats Panel) will be side by
side follow the Panel Container menu and select split horizontal. <br>
<br>
The result of split horizontal panel
action is
shown in the next figure.<br>
<b style=""><br>
</b>
<h4><a class="mozTocH4" name="mozTocId206900"></a><a
 name="PC_Sampling_Experiment_-_Split_Panel"></a>PC Sampling
Experiment - Split Panel Display</h4>
<br>
</div>
<div style="margin-left: 80px;"><b style=""><a
 name="Source_Panel_Statistics"></a></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><img
 alt="Show side by side source and results"
 src="PC_SampleExperiment-4-Split.png"
 style="width: 860px; height: 644px;"><br>
</b></div>
<blockquote> <b style=""> </b>
  <blockquote><b style="">&nbsp;<br>
    <br>
    <br>
    <span style="font-family: arial;"><span style="font-weight: bold;"><a
 name="ShowSourceStatistics"></a><br>
    </span></span></b>After splitting the panels appear side by
side.&nbsp;&nbsp; Clicking on the "f3" function results line will focus
the source panel to the corresponding function "f3" source file and
line number, if the application was compiled to include source
debugging information such as dwarf.&nbsp;&nbsp; Some compilers do not
include source debugging information when invoked at high optimization
levels.&nbsp;&nbsp; In that case you may only have the function name
but no source line information, so the click mentioned above will not
be able to focus to the source for the function selected.<b style=""><br>
    <br>
    </b>
    <h4><a class="mozTocH4" name="mozTocId944297"></a><a
 name="PC_Sampling_Experiment_-_Source_and"></a>PC Sampling
Experiment - Source and Statistics Relationship Display</h4>
    <br>
    <b style=""> <br>
    </b></blockquote>
  <div style="margin-left: 40px;"><b style=""><img
 alt="Show function f3 click focuses the source"
 src="PC_SampleExperiment-5-f3click.png"
 style="width: 860px; height: 644px;"></b><br>
  </div>
  <blockquote><b style=""> <br>
    </b>Clicking on the arrows to the right of the Time or Function
header
under the PC Stats Panel tab will sort the time or function list in
ascending or descending order.<b style=""><br>
    <br>
    </b>
    <h3><a class="mozTocH3" name="mozTocId439377"></a><b style="">Typical
Open|SpeedShop GUI non-Wizard Usage</b></h3>
    <b style=""> </b></blockquote>
</blockquote>
<div style="margin-left: 80px;">Using the Open|SpeedShop
GUI to run an
experiment directly is a shorter process than that of using the Wizard
but it takes a bit more knowledge and/or familiarity with the
<b>Open|SpeedShop</b> product and GUI.&nbsp;&nbsp; <br>
<br>
To invoke the PC Sampling Experiment select the Experiments Menu and
choose the PC Sampling Experiment menu item.&nbsp; This will cause the
PC Sampling Experiment Window to be created and displayed, as in the
image below.<br>
<br>
Note: using this <b>Open|SpeedShop</b> command, "openss -f
usability/phaseIII/fred pcsamp" will get the same result as the
following steps which are needed when one invokes <b>Open|SpeedShop</b>
with
the "openss" (no arguments) command.&nbsp; Invoking the
former command ("openss -f usability/phaseIII/fred
pcsamp") will create the PC Sampling experiment and
load the executable, fred,&nbsp; resulting in an openss GUI as shown in
this link: <a href="index.html#Ready_to_Run_the_Experiment">Ready
to run
experiment</a>.<br>
<b style=""><br>
</b></div>
<div style="margin-left: 80px;"><b style=""><img
 alt="Activate Manage Process Window"
 src="PC_SampleExperiment-non-wizard-2.png"
 style="width: 860px; height: 644px;"></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><br>
</b>The PC Sampling Experiment Window appears after choosing the PC
Sampling menu item from the Experiment Menu.<b style=""><br>
<br>
<br>
</b></div>
<div style="margin-left: 80px;"><b style=""><img
 alt="PC Sampling Experiment - No Wizard Usage"
 src="PC_SampleExperiment-non-wizard-1.png"
 style="width: 860px; height: 644px;"></b></div>
<div style="margin-left: 80px;"><b style=""><br>
</b>Note the Load a new program
message or
status in the Process Control Status line.&nbsp; This indicates that no
processes are attached and no executables have been loaded at this
point.&nbsp; To load or attach to running process, right mouse button
down in the PC Sampling Panel Tab to get a menu item list as seen in
the
next image.&nbsp;&nbsp;&nbsp; Select the Manage Processes Panel menu
item.<br>
<b style=""><br>
</b></div>
<div style="margin-left: 80px;"><b style=""><img
 alt="Manage Process Panel" src="PC_SampleExperiment-non-wizard-3.png"
 style="width: 860px; height: 644px;"></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><br>
<br>
</b>Once the Load New Program
menu item is
selected the user will see the Enter executable or saved experiment
window.&nbsp; <b style=""><br>
</b></div>
<b style=""><br>
<br>
</b>
<div style="margin-left: 80px;"><b style=""><img
 alt="Load Program Panel" src="PC_SampleExperiment-non-wizard-4.png"
 style="width: 860px; height: 644px;"><br>
</b></div>
<b style=""><br>
</b>
<div style="margin-left: 80px;">In this window a user may
or may not change directories
to find their executable and select it.&nbsp;&nbsp; <br>
</div>
<b style=""><br>
</b>
<div style="margin-left: 80px;"><b style=""><img alt="Load Program"
 src="PC_SampleExperiment-non-wizard-5.png"
 style="width: 860px; height: 644px;"></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><br>
</b>When the executable is
selected the PC
Sampling Experiment window shows that the program has been loaded.<b
 style=""><br>
</b></div>
<b style=""><br>
</b>
<div style="margin-left: 80px;"><b style=""><img alt="Ready to run"
 src="PC_SampleExperiment-non-wizard-6.png"
 style="width: 860px; height: 644px;"></b><br>
</div>
<div style="margin-left: 80px;"><b style=""><br>
</b>At this point the typical non-Wizard usage matches that of the
Wizard
usage.&nbsp;&nbsp; Follow this link for the remainder of the typical
usage explanation: <a href="#Ready_to_Run_the_Experiment">Ready to run
experiment</a>.<b style=""><br>
<br>
</b>
<h3><a class="mozTocH3" name="mozTocId439657"></a><b><b style=""><a
 name="Comparing_Performance_Data_using_the_"></a>Comparing Performance
Data using the Open|SpeedShop GUI<br>
</b></b></h3>
This section explains the typical usage of the Open|SpeedShop GUI to
compare performance data results.&nbsp; These results may have just
been gathered or could have been restored from a previously generated
Open|SpeedShop database file.&nbsp;&nbsp; The Open|SpeedShop graphical
user interface is very flexible and allows users to define there own
comparison views by defining what will be shown in each column of the
comparison display.&nbsp;&nbsp; <br>
<b style=""><br>
</b>
<h3><a class="mozTocH3" name="mozTocId444537"></a><a
 name="Finding_Out_of_Range_Processes_Threads"></a>Finding Processes,
Threads, or Ranks that have out of range values <b><b><b><b style="">using
the Open|SpeedShop GUI</b></b></b></b></h3>
With the Open|SpeedShop 1.00 verssion there is a feature which
automatically groups processes, threads, or ranks into sets which have
similar values.&nbsp; This techinique which is called, cluster
analysis, is used to find processes, threads, or ranks which are
outside the majority of its siblings and therefore, also the
performance bottleneck process, thread, or rank.&nbsp;&nbsp; To access
this feature you must have run an Open|SpeedShop experiment with
multiple processes, threads, or ranks or opened an Open|SpeedShop
experiment that was run on an applicaiton with multiple processes,
threads, or ranks.&nbsp;&nbsp; In the "Stats" panel menu there is an
option to invoke the cluster analysis feature.&nbsp; See below:<br>
<br>
<img alt="View of cluster analysis menu item"
 title="View of cluster analysis menu item" src="ClusterAnalysis1.png"
 style="width: 860px; height: 644px;"><br>
<br>
Note: The cluster analysis is experimental at this point and is only
supported in the user time (usertime) experiment.&nbsp;&nbsp; When this
command is invoked, Open|SpeedShop analyzes the all the performance
data for the individual processes, threads, or ranks that were included
in the&nbsp; Open|SpeedShop experiment and separates them into groups
with similar performance numbers.&nbsp;&nbsp; Here is a simple example
in which a MPI version of sweep3d was run on four processors over two
hosts.<br>
<br>
<img alt="Cluster Analysis Output View"
 title="Cluster Analysis Output View" src="ClusterAnalysis2.png"
 style="width: 860px; height: 644px;"><br>
<br>
The current implementation of this feature does not have the context
sensitive help enabled for showing what processes, threads, or ranks
are included in each column of the output view.&nbsp;&nbsp; For now,
one can view this information by using the "Context" menu item (see
above "Stats" panel menu".&nbsp;&nbsp; By selecting "Context", the
processes, threads, or ranks corresponding to the column designators
(-c &lt;number&gt;) are shown.<br>
<br>
In this example, column 3 (-c 3) is an process that is outside the
other processes by a wide margin for time spent in the function <span
 style="font-style: italic;">sweep</span>_.<br>
<br>
<img alt="Context of View Generation" title="Context of View Generation"
 src="ClusterAnalysis3.png" style="width: 268px; height: 630px;"><br>
<br>
By double clicking on the <span style="font-style: italic;">sweep_</span>
line in the cluster analysis view the user is focused on the <span
 style="font-style: italic;">sweep_</span> function.&nbsp; By browsing
the source display (with the statistics preference enabled) one can
locate the code that is taking a large amount of time (see
below).&nbsp;&nbsp;&nbsp; The loop that is being focused on is taking
29.2571 seconds.&nbsp;&nbsp; It appears this is only being done when
the rank is equal to one (contrived example to illustrate the use of
this feature).<br>
<br>
<img alt="Source of sweep_ performance problem"
 title="Source of sweep_ performance problem" src="ClusterAnalysis4.png"
 style="width: 860px; height: 644px;"><br>
<br>
<h3><a class="mozTocH3" name="mozTocId956211"></a><b><b style=""><a
 name="OpenSpeedShop_GUI_Usage_on_MPI_"></a>Open|SpeedShop GUI Usage on
MPI Applications</b></b></h3>
<h4><a class="mozTocH4" name="mozTocId441124"></a><a
 name="General_Concepts_"></a>General Concepts</h4>
<span style="font-weight: bold;">Open|SpeedShop</span> supports
automatically attaching to all the ranks/processes in a MPI application
provided the MPI implementation is using the MPIR defacto standard for
finding all the ranked processes within a MPI application.&nbsp;&nbsp;
This is discussed more in the sections below.&nbsp;&nbsp; <span
 style="font-weight: bold;">Open|SpeedShop</span> allows the user to
use the rank number of the ranked processes as input to <span
 style="font-weight: bold;">Open|SpeedShop</span> for selecting and
filtering just as a process or thread number would be used.&nbsp; <span
 style="font-weight: bold;">Open|SpeedShop</span> also displays the
rank number for each ranked process in the GUI panel output and in the
GUI command window text output views.&nbsp;&nbsp; Open|SpeedShop
version 1.00 now provides for creating a MPI job from start up, meaning
it can create the MPI job from within Open|SpeedShop.&nbsp; There are
details in the paragraphs below explaining how to create the MPI job
from within Open|SpeedShop.<br>
<h4><a class="mozTocH4" name="mozTocId89318"></a>Notes/Caveats</h4>
<ul>
  <li>Open|SpeedShop can attach to individual MPI processes/ranks
automatically, but in order to do that the MPI implementation installed
must have the MPIR interface symbols exposed.&nbsp;&nbsp; This usually
entails using the --enable-debugging configure option when
building.&nbsp;&nbsp; The MPIR interface is the same interface that the
TotalView&reg; debugger uses.</li>
  <li>Check to see if Security-enhanced Linux (SELinux) is enabled on
your system.&nbsp; This has caused the Open|SpeedShop Dyninst component
to fail when inserting code into the application being
profiled.&nbsp;&nbsp; An example of the message that may appear
is:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
 face="Courier New" size="2"><span style="font-size: 10pt;"></span></font></li>
  <ul>
    <li><font face="Courier New" size="2"><span style="font-size: 10pt;">The
error message &#8220;<font color="red"><span style="color: red;">cannot
restore segment prot after reloc: Permission denied</span></font>&#8221;
means
Security Enhance Linux feature to prevent to write on the segment of
text
relocation (its default read only).&nbsp; The command &#8220;chcon &#8211;t
texrel_shlib_t <font color="red"><span style="color: red;">/usr/local/lib/libdpcl.so*</span></font>&#8221;
may be used to change it to have write permission too.</span></font>&nbsp;<font
 face="Courier New" size="2"><span style="font-size: 10pt;"></span></font></li>
  </ul>
  <li>The OPENSS_MPI_IMPLEMENTATION environment variable is used when
you configured openss to support more than one<br>
MPI implementation.&nbsp; This means if you have multiple MPI
collectors created (when you built Open|SpeedShop you configured for
multiple MPI implementations).&nbsp; Say, for example, you have&nbsp;
mpich2, lampi, and openmpi collectors and the application you are
running under openss is a mpich2 MPI application.&nbsp;&nbsp; You would
set <font face="Courier New" size="2"><span style="font-size: 10pt;"><big>OPENSS_MPI_IMPLEMENTATION
to mpich2,&nbsp; like this: </big><br>
    </span></font>
    <ul>
      <li><font face="Courier New" size="2"><span
 style="font-size: 10pt;"><big>setenv OPENSS_MPI_IMPLEMENTATION mpich2</big></span></font></li>
    </ul>
    <font face="Courier New" size="2"><span style="font-size: 10pt;"><br>
    <big>That tells openss which MPI implementation to process.&nbsp;
This will be automated in the future.<br>
    <br>
If you run openss again on a lampi application, then change the
environment<br>
variable setting to this:</big></span></font><br>
    <ul>
      <li><font face="Courier New" size="2"><span
 style="font-size: 10pt;"><big>setenv OPENSS_MPI_IMPLEMENTATION lampi</big></span></font></li>
    </ul>
    <font face="Courier New" size="2"><span style="font-size: 10pt;"> </span></font></li>
</ul>
<h4><a class="mozTocH4" name="mozTocId963085"></a><a
 name="Multiple_MPI_version_Implications"></a>Multiple MPI version
Implementation Implications<br>
</h4>
<span style="font-weight: bold;">Open|SpeedShop</span> supports
multiple MPI with a single <span style="font-weight: bold;">Open|SpeedShop</span>
executable.&nbsp; However, the user must be aware that in certain
versions of MPI the data <span style="font-weight: bold;">Open|SpeedShop</span>
needs to automatically attach to a running MPI application resides in
the "mpirun" process on some MPI implementations and in any of the
ranked processes in other MPI implementations.&nbsp;&nbsp; A table is
provided below to aid in the selection process:<br>
<table style="text-align: left; width: 586px; height: 196px;" border="1"
 cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">MPI IMPLEMENTATION</span><br>
      </td>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">WHAT TO ATTACH TO</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">SGI&reg; MPT, OPENMPI, LAMPI<br>
SLURM&nbsp; </td>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">mpirun</span> process<br>
      <span style="font-style: italic; font-weight: bold;">srun</span>
process on SLURM<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">MPICH download or any other MPI
implementations where mpirun is a script, not an executable.<br>
      </td>
      <td style="vertical-align: top;">rank 0 process<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">MPICH2 - support for this is in
progress (as of December 20, 2006)<br>
      </td>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">mpirun</span> process</td>
    </tr>
  </tbody>
</table>
<br>
This information is needed when attaching to an already running MPI
application which is described in the sections below.<br>
<br>
<h4><a class="mozTocH4" name="mozTocId956978"></a><a
 name="Attaching_to_Already_Running_MPI"></a>Attaching to Already
Running MPI Applications</h4>
<h5><a class="mozTocH5" name="mozTocId291888"></a><a
 name="Gui_Wizard_Information"></a>Gui Wizard Information</h5>
Attaching to a running MPI application is very similar to attaching to
a non-MPI running application or process.&nbsp;&nbsp; When stepping
through the experiment Wizards one eventually comes to the window that
allows the user to select their executable to load or processes,
threads, or ranks to attach to.&nbsp;&nbsp; If one chooses, "Attach to
running process" in that window (see the <a
 href="#PC_Sampling_Wizard_-_Load_Executable">Wizard load/attach dialog</a>
for details) then the Attach
Process Dialog display (see below) appears.&nbsp;&nbsp; This is where
the user can choose the process(es) related to the MPI application they
wish to attach to.<br>
<br>
The hostname can be changed by typing the new hostname into the "Host:"
input area and then clicking the "Update" button.&nbsp;&nbsp; This will
cause a query of the new host for the user's running processes.<br>
<br>
In the following dialog display, selecting the "Attach to all MPI
related processes" option causes <b>Open|SpeedShop</b> to attach to
all the
MPI processes that are related to the process or processes
selected.&nbsp;&nbsp; In the example below, <b>Open|SpeedShop</b>
would attach
to processes 27112, 27113, and 27114.<br>
<br>
For MPICH MPI jobs you may select any of the rank processes to attach
to.&nbsp;&nbsp; <b>Open|SpeedShop</b> will attach to the entire job if
you
have selected the "Attach to all MPI
related processes" option.<br>
<br>
For SGI&reg; MPT MPI job you must select the MPIRUN process to attach
to.&nbsp;&nbsp; Just as in the MPICH case, <b>Open|SpeedShop</b> will
attach
to the entire job if you have selected the "Attach to all MPI
related processes" option.<br>
<br>
<img alt="Attaching to a MPI job dialog display"
 src="PC_SampleWizard-AttachToRunningProcess-MPIJOB1.png"
 style="width: 602px; height: 422px;"><br>
<br>
<h5><a class="mozTocH5" name="mozTocId112115"></a><a
 name="Gui_Non-Wizard_Information"></a>Gui Non-Wizard Information&nbsp;
<br>
</h5>
<br>
The Non-Wizard attach dialog is the same dialog display, but the user
arrives at the attach dialog display from a different GUI gesture
path.&nbsp;&nbsp;&nbsp; After the user choose the
File-&gt;Experiments-&gt;PC Sampling menu item, <b>Open|SpeedShop</b>
creates
the PC Sampling Experiment window below.&nbsp; The user can then right
mouse button down on the PC Sampling Experiment tab and select the
Manage Process menu item.&nbsp;&nbsp; From there the user can choose
Attach Process (see display below).<br>
<br>
<br>
</div>
<div style="margin-left: 40px;"><img
 alt="Manage Process Panel - Attach option"
 src="PC_SampleWizard-AttachToRunningProcess-GUI-nonwizard1.png"
 style="width: 864px; height: 644px;"><br>
</div>
<div style="margin-left: 80px;"><br>
Upon selecting the "Attach Process" menu item the user will see the
Attach Process dialog display and then be able to select a MPI process
and then either attach to the entire MPI job by selecting the "Attach
to all MPI related processes" option or just that MPI process.<br>
<br>
The hostname can be changed by typing the new hostname into the "Host:"
input area and then clicking the "Update" button.&nbsp;&nbsp; This will
cause a
query of the new host for the user's running processes.<br>
<br>
<img alt="Attach to running process dialog - MPI"
 src="PC_SampleWizard-AttachToRunningProcess-MPIJOB1.png"
 style="width: 602px; height: 422px;"><br>
<br>
<h4><a class="mozTocH4" name="mozTocId271423"></a><a
 name="Loading_and_Starting_MPI_Applications"></a>Loading and Starting
MPI Applications</h4>
As of release version 1.00 of Open|SpeedShop starting MPI jobs from
within Open|SpeedShop is supported.&nbsp;&nbsp; Previously one could
only start the MPI job up and attach to the MPI processes/ranks as they
were already running.&nbsp;&nbsp;&nbsp; If running with the interactive
command line interface (CLI) see the section on <a
 href="#OpenSpeedShop_CLI_Usage_on_MPI_">Open|SpeedShop CLI Usage on
MPI applications</a><br>
<br>
<h5><a class="mozTocH5" name="mozTocId359073"></a>Gui Wizard Information</h5>
Currently support consists of starting the MPI application via the
openss command.&nbsp;&nbsp; An example of this command form is as
follows:<br>
<div style="margin-left: 40px;">openss -f "mpirun -np 256 sweep3d.mpi"
[pcsamp, usertime, hwc, hwctime, io, iot, fpe, mpi, mpit]<br>
<br>
</div>
</div>
<div style="margin-left: 80px;">The quotes around the MPI job creation
command are required.&nbsp; They wrap the MPI command so that
Open|SpeedShop does not have to parse each individual MPI
implementations command syntax.&nbsp;&nbsp; The experiment type
designator is not wrapped in quotes.<br>
</div>
<div style="margin-left: 80px;">
<h5><a class="mozTocH5" name="mozTocId579582"></a>Gui Non-Wizard
Information&nbsp;
</h5>
Currently support consists of starting the MPI application via the
openss command.&nbsp;&nbsp; An example of this command form is as
follows:<br>
<div style="margin-left: 40px;">openss -f "mpirun -np 256 sweep3d.mpi"
[pcsamp, usertime, hwc, hwctime, io, iot, fpe, mpi, mpit]<br>
<br>
</div>
The quotes around the MPI job creation command are required.&nbsp; They
wrap
the MPI command so that Open|SpeedShop does not have to parse each
individual MPI implementations command syntax.&nbsp; The experiment
type designator is not wrapped in quotes.<br>
<span style="font-family: arial;"><span style="font-style: italic;"><span
 style="font-weight: bold;"></span></span></span></div>
<blockquote>
  <h2><a class="mozTocH2" name="mozTocId362515"></a><b style=""><span
 style=""><span style=""><span style=""><span style=""><span style=""><span
 style="">Using
the Interactive
CLI Tool<br>
  </span></span></span></span></span></span></b></h2>
</blockquote>
<blockquote>The interactive command line interface tool
accepts a
number of <b>Open|SpeedShop</b> command line interface commands.&nbsp;
These commands allow
the user
to create performance measurement experiments, attach executables, run
the experiment to gather performance metric data, and also to display
the data to the screen via the text view commands or to launch the GUI
to view the performance experiment data.<br>
  <br>
  <a href="../cli_doc/definition.html">The interactive command syntax
document</a> contains the commands and syntax that the Interactive CLI
tool
accepts as input.&nbsp; A <a
 href="../cli_doc/CommandLineCommandUsageDocumentation.html">interactive
command usage document </a>shows information similar to the help that
the interactive command tool gives when requests for help on a command
are entered.&nbsp;&nbsp; A simple scenario to illustrate usage, both in
command only form and command and explanation form.&nbsp;&nbsp; Click
on this <a href="../cli_doc/s1.html">link</a> to view the scenario.<b
 style=""><br>
  </b>
  <blockquote><b style=""> </b>
    <h3><a class="mozTocH3" name="mozTocId367726"></a><b style=""><a
 name="CLI_Launch_Background_Information:"></a>CLI Launch Background
Information:<br>
    </b></h3>
    <b style=""> </b></blockquote>
  <b style=""> </b>
  <blockquote><b style=""> </b>
    <blockquote><b style=""> </b></blockquote>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <p>The CLI is bundled into a dynamic library that is
loaded on
demand.&nbsp;&nbsp;
It's the <b>Open|SpeedShop</b> main program that launches the
CLI.&nbsp;&nbsp;
By
default the openss command will launch the GUI upon invocation of the <b>Open|SpeedShop</b>
tool.&nbsp;&nbsp;
However, the CLI can be started without starting the GUI ($ openss
-cli).<br>
    </p>
    <p>Upon invoking <b>Open|SpeedShop</b>
($ openss -cli) the command line is parsed, and if the CLI is
requested, the
CLI library is loaded and launched.&nbsp; <b>Open|SpeedShop</b> then
drops
into an
event loop for parsing command line events.</p>
    <p>When the CLI or GUI is loaded, they look for CLI
and/or GUI
plugins in the
default
directory and in the OPENSS_TOOL_PLUGIN_DIR environment variable
path.&nbsp;
Each file in the directory is opened and an internal entry point is
queried.&nbsp;&nbsp; If found, the plugin manager calls the entry
point, initializes
any exported menus, brings up the CLI and/or GUI, and then drops into
the main
event
loop(s) waiting for user interaction.<b style=""><br>
    </b></p>
    <b style=""> </b>
    <h3><a class="mozTocH3" name="mozTocId252535"></a><b style=""><a
 name="Typical_OpenSpeedShop_CLI_Usage"></a>Typical Open|SpeedShop CLI
Usage<br>
    </b></h3>
    <b style=""> </b>
    <p>Having launched the CLI via the openss -cli&nbsp;
the
initial window will look like this:<br>
    </p>
    <p>machine.prompt&gt;<span style="font-weight: bold;">./openss -cli</span><br>
openss&gt;&gt;</p>
At this point, user's may enter one of the commands
described
in <a href="#mozTocId10491">Appendix A: Command Syntax</a>.&nbsp;
These commands are primarily related
to creating, running, and monitoring performance experiments.&nbsp;
There are also information commands which give machine
information.&nbsp;&nbsp; An typical usage example of a PC Sampling
Experiment follows:<b style=""><br>
    <br>
    </b>[prompt] : <b style=""><span style="font-weight: bold;">openss
-cli<br>
    <br>
    </span></b># The first user command is to create an
experiment.&nbsp; In this
example<br>
# it is a PC Sampling experiment (pcsamp) and it will be run on the<br>
# mutatee executable.&nbsp; <b style=""><br>
    <br>
    </b>openss&gt;&gt;<b style=""><span style="font-weight: bold;">expcreate
-f
/home/openss/demo/Simple/mutatee pcsamp<br>
    <br>
    </span></b># Below a "1" is returned to indicate the experiment
number<br>
openss&gt;&gt;&nbsp;&nbsp; 1<b style=""><br>
    <br>
    </b># The next user command is "expGo" which runs the experiment<br>
openss&gt;&gt;<b style=""><span style="font-weight: bold;">expGo</span><br>
o</b>penss&gt;&gt;<br>
# The next three lines are output from the executable's execution<br>
Usage: /home/openss/demo/Simple/mutatee &lt;size&gt;<br>
No size argument given.&nbsp;&nbsp; Defaulting to 250.<br>
/home/openss/demo/Simple/mutatee: successfully completed.<b style=""><br>
    <br>
    </b># The next user command tells <b>Open|SpeedShop</b> to print
the
results of
the experiment<br>
# NOTE - the 5 at the end of the stats parameter indicates you want to
view the top 5 functions.<br>
# If you had specified 33, as in stats33, you would see the top 33
functions in the performance report.<br>
openss&gt;&gt;<b style=""><span style="font-weight: bold;">expView<br>
    <br>
    </span></b># The next four lines are the output of the experiment
due
to the expView command<br>
&nbsp; CPU Time
(Seconds)&nbsp; Function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2.090000&nbsp; f3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.320000&nbsp; f2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.650000&nbsp; f1<br>
# Open|SpeedShop prompt for additional command input<br>
openss&gt;&gt;<b style=""><br>
    <br>
    </b>
    <h3><a class="mozTocH3" name="mozTocId466298"></a><b><b style=""><a
 name="OpenSpeedShop_CLI_Usage_on_MPI_"></a>Open|SpeedShop CLI Usage on
MPI applications</b></b></h3>
    <h4><a class="mozTocH4" name="mozTocId737510"></a><a
 name="General_Concepts"></a>General Concepts</h4>
    <span style="font-weight: bold;">Open|SpeedShop</span> supports
automatically attaching to all the ranks/processes in a MPI application
provided the MPI implementation is using the MPIR defacto standard for
finding all the ranked processes within a MPI application.&nbsp;&nbsp;
This is
discussed more in the sections below.&nbsp;&nbsp; <span
 style="font-weight: bold;">Open|SpeedShop</span> allows the user to
use the rank number of the ranked processes as input to <span
 style="font-weight: bold;">Open|SpeedShop</span> for selecting and
filtering just as a process or thread number would be used.&nbsp; <span
 style="font-weight: bold;">Open|SpeedShop</span> also displays the
rank number for each ranked process in the interactive command line
window text output views.<br>
    <h4><a class="mozTocH4" name="mozTocId729681"></a>Notes/Caveats</h4>
    <ul>
      <li>Open|SpeedShop can attach to individual MPI processes/ranks
automatically, but in order to do that the MPI implementation installed
must have the MPIR interface symbols exposed.&nbsp;&nbsp; This usually
entails
using the --enable-debugging configure option when
building.&nbsp;&nbsp; The MPIR
interface is the same interface that the TotalView&reg; debugger uses.</li>
      <li>Check to see if Security-enhanced Linux (SELinux) is enabled
on
your system.&nbsp; This has caused the Open|SpeedShop Dyninst component
to
fail when inserting code into the application being
profiled.&nbsp;&nbsp; An
example of the message that may appear
is:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
 face="Courier New" size="2"><span style="font-size: 10pt;"></span></font></li>
      <ul>
        <li><font face="Courier New" size="2"><span
 style="font-size: 10pt;">The error message &#8220;<font color="red"><span
 style="color: red;">cannot
restore segment prot after reloc: Permission denied</span></font>&#8221;
means
Security Enhance Linux feature to prevent to write on the segment of
text
relocation (its default read only).&nbsp; The command &#8220;chcon &#8211;t
texrel_shlib_t <font color="red"><span style="color: red;">/usr/local/lib/libdpcl.so*</span></font>&#8221;
may be used to change it to have write permission too.</span></font>&nbsp;<font
 face="Courier New" size="2"><span style="font-size: 10pt;"></span></font></li>
      </ul>
      <li>The OPENSS_MPI_IMPLEMENTATION environment variable is used
when you configured openss to support more than one<br>
MPI implementation.&nbsp; This means if you have multiple MPI
collectors
created (when you built Open|SpeedShop you configured for multiple MPI
implementations).&nbsp; Say, for example, you have&nbsp; mpich2, lampi,
and
openmpi collectors and the application you are running under openss is
a mpich2 MPI application.&nbsp;&nbsp; You would set <font
 face="Courier New" size="2"><span style="font-size: 10pt;"><big>OPENSS_MPI_IMPLEMENTATION
to mpich2,&nbsp; like this: </big><br>
        </span></font>
        <ul>
          <li><font face="Courier New" size="2"><span
 style="font-size: 10pt;"><big>setenv OPENSS_MPI_IMPLEMENTATION mpich2</big></span></font></li>
        </ul>
        <font face="Courier New" size="2"><span style="font-size: 10pt;"><br>
        <big>That tells openss which MPI implementation to
process.&nbsp; This will be automated in the future.<br>
        <br>
If you run openss again on a lampi application, then change the
environment<br>
variable setting to this:</big></span></font><br>
        <ul>
          <li><font face="Courier New" size="2"><span
 style="font-size: 10pt;"><big>setenv OPENSS_MPI_IMPLEMENTATION lampi</big></span></font></li>
        </ul>
        <font face="Courier New" size="2"><span style="font-size: 10pt;"></span></font></li>
    </ul>
    <h4><a class="mozTocH4" name="mozTocId405869"></a><a
 name="Multiple_MPI_version_Implementation_cli"></a>Multiple MPI
version Implementation Implications with the CLI<br>
    </h4>
    <span style="font-weight: bold;">Open|SpeedShop</span> supports
multiple MPI with a single <span style="font-weight: bold;">Open|SpeedShop</span>
executable.&nbsp; However, the user must be aware that in certain
versions of MPI the data <span style="font-weight: bold;">Open|SpeedShop</span>
needs to automatically attach to a running MPI application resides in
the "mpirun" process on some MPI implementations and in any of the
ranked processes in other MPI implementations.&nbsp;&nbsp; A table is
provided
below to aid in the selection process:<br>
    <br>
    <table style="text-align: left; width: 586px; height: 196px;"
 border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">MPI IMPLEMENTATION</span><br>
          </td>
          <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">WHAT TO ATTACH TO</span><br>
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">SGI MPT, OPENMPI, LAMPI<br>
SLURM&nbsp; </td>
          <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">mpirun</span> process<br>
          <span style="font-style: italic; font-weight: bold;">srun</span>
process on SLURM<br>
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">MPICH download or any other
MPI implementations where mpirun is a script, not an executable.<br>
          </td>
          <td style="vertical-align: top;">rank 0 process<br>
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">MPICH2 support is in
progress (as of December 20, 2006)<br>
          </td>
          <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">mpirun</span> process</td>
        </tr>
      </tbody>
    </table>
    <br>
This information is needed when attaching to an already running MPI
application which is described in the sections below.<br>
    <br>
    <h4><a class="mozTocH4" name="mozTocId94012"></a><span
 class="mozTocH4"></span><a name="Attaching_to_Already_Running_MPI_"></a>Attaching
to Already
Running MPI Applications with the CLI</h4>
When running <span style="font-weight: bold;">Open|SpeedShop</span> on
an MPI application and attaching to all the ranks within the MPI job,
one must use the information provided in the <a
 href="#Multiple_MPI_version_Implementation_cli">Multiple MPI version
Implementation Implication </a>section above.&nbsp; First a list of
the running processes is needed.&nbsp;&nbsp; This can be obtained
either in another xterm window or from the openss command line
interface itself.&nbsp;&nbsp; The <span style="font-weight: bold;">Open|SpeedShop</span>
interactive command line interface (CLI) allows for the execution of
simple Linux commands from within the CLI interface.&nbsp; <br>
    <br>
    <h5><a class="mozTocH5" name="mozTocId881690"></a><a
 name="Example_1:_Attach_to_mpirun"></a>Example 1: Attach to
mpirun</h5>
The first example is on a system using a MPI implementation that
requires attaching to the mpirun process to automatically attatch to
the entire list of ranks in the MPI application.<br>
    <br>
[machine
prompt]:openss -cli<br>
openss&gt;&gt;<b style=""><span style="font-weight: bold;"><br>
    </span></b>openss&gt;<span style="font-weight: bold;">&gt;!ps </span><span
 id="mail-highlight-id"
 style="background-color: yellow; font-weight: bold;"></span><span
 style="font-weight: bold;">-efl | grep userid | grep mpirun </span><br>
0 S userid &nbsp; <span style="font-weight: bold; font-style: italic;">19207</span>&nbsp;&nbsp;
6068&nbsp; 0&nbsp; 71&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; -&nbsp; &nbsp;
803 do_sel&nbsp; 08:12 pts/0&nbsp; &nbsp;&nbsp; 00:00:00 mpirun -np 16
sweep3d.mpi <br>
0 S userid &nbsp; 19233 19232&nbsp; 0&nbsp; 77&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp; -&nbsp; 1235 wait4 &nbsp; 08:13 ttyp0&nbsp;&nbsp;
&nbsp; 00:00:00 sh -c ps -efl | grep userid | grep mpirun ? <br>
0 S userid &nbsp; 19236 19233&nbsp; 0&nbsp; 77&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp; -&nbsp; 1094 pipe_w 08:13 ttyp0&nbsp;&nbsp;&nbsp;
00:00:00 grep mpirun <br>
    <br>
openss&gt;&gt;<span style="font-weight: bold;">expcreate pcsamp -v mpi
-p </span><span style="font-weight: bold; font-style: italic;">19207 <br>
    <br>
    </span>NOTE: The "-v mpi" option to expcreate tells the interactive
command line interface to attach to the entire MPI job, not just the
process 19207.&nbsp;&nbsp; Open|SpeedShop, if the "-v mpi" option is
present, will <span style="font-weight: bold; font-style: italic;"><br>
    <br>
    </span>
    <h5><a class="mozTocH5" name="mozTocId791298"></a><a
 name="Example_2:_Attach_to_MPI_rank_0_process_"></a>Example
2: Attach to MPI rank 0 process <span
 style="font-weight: bold; font-style: italic;"></span></h5>
The second example is on a system using a MPI implementation that
requires attaching to a MPI rank process to automatically attatch to
the entire list of ranks in the MPI application.<br>
    <br>
Here is a possible set of instructions on how to attach to the MPI rank
0 process to attach to the entire MPI job (all ranked processes).<br>
    <br>
In window 1:&nbsp; Start Open|SpeedShop via the&nbsp; "openss -cli"
command<br>
In window 2:&nbsp; cd to the application directory, smg2000/test in
this example<br>
In window 3 or in the openss CLI window:&nbsp; Use ps -ef | grep
smg2000 to find the ranked process <br>
    <br>
window #1, start openss -cli, select hwc <br>
[machine prompt]: ./openss -cli <br>
Welcome to Open|SpeedShop, version 0.875. <br>
Type 'help' for more information. <br>
openss&gt;&gt;expcreate hwctime <br>
openss&gt;&gt;The new focused experiment identifier is:&nbsp; -x 1 <br>
    <br>
In window #2:&nbsp; Start the MPI application, smg2000, in this example<br>
[machine prompt]:&nbsp; /opt/mpich/ch-p4/bin/mpirun -np 4 smg2000 -n 75
75 75 <br>
    <br>
In window #3:&nbsp; Issue the command to find the ranked
processes:&nbsp; ps -ef | grep smg2000. <br>
Find the first instance of smg2000 with CPU time &gt; 0 and that does
not have any rank info in the process command line info. <br>
e.g. pid <span style="font-weight: bold;">7824</span> is such a
process. <br>
[machine prompt]: ps -ef | grep smg2000 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7695 30159&nbsp; 0 13:53
pts/0&nbsp;&nbsp;&nbsp; 00:00:00 /bin/sh /opt/mpich/ch-p4/bin/mpirun
-np 4 smg2000 -n 75 75 75 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
 style="font-weight: bold;">7824</span>&nbsp; 7695&nbsp; 0 13:53
pts/0&nbsp;&nbsp;&nbsp; 00:00:03 /scratch/userid/smg2000/test/smg2000
-n 75 75 75 -p4pg /scratch/userid/smg2000/test/PI7695 -p4wd
/scratch/userid/smg2000/test <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7825&nbsp; 7824&nbsp; 0
13:53 pts/0&nbsp;&nbsp;&nbsp; 00:00:00
/scratch/userid/smg2000/test/smg2000 -n 75 75 75 -p4pg
/scratch/userid/smg2000/test/PI7695 -p4wd /scratch/userid/smg2000/test <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7826&nbsp; 7824&nbsp; 0
13:53 pts/0&nbsp;&nbsp;&nbsp; 00:00:00 /usr/bin/ssh localhost -l userid
-n
/scratch/userid/smg2000/test/smg2000 wsopenss2 34618 \-p4amslave
\-p4yourname localhost \-p4rmrank 1 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7831&nbsp; 7830&nbsp; 0
13:53 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00:00:00 csh -c
/scratch/userid/smg2000/test/smg2000 wsopenss2 34618 \-p4amslave
\-p4yourname localhost \-p4rmrank 1 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7841&nbsp; 7831&nbsp; 0
13:53 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00:00:04
/scratch/userid/smg2000/test/smg2000 wsopenss2 34618&nbsp;&nbsp;
4amslave -p4yourname localhost -p4rmrank 1 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7842&nbsp; 7824&nbsp; 0
13:53 pts/0&nbsp;&nbsp;&nbsp; 00:00:00 /usr/bin/ssh localhost -l userid
-n
/scratch/userid/smg2000/test/smg2000 wsopenss2 34618 \-p4amslave
\-p4yourname localhost \-p4rmrank 2 <br>
userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7843&nbsp; 7841&nbsp; 0
13:53 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00:00:00
/scratch/userid/smg2000/test/smg2000 wsopenss2 34618&nbsp;&nbsp;
4amslave -p4yourname localhost -p4rmrank 1 <br>
userid &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7695 30159&nbsp; 0 13:53
pts/0&nbsp;&nbsp;&nbsp; 00:00:00 /bin/sh /opt/mpich/ch-p4/bin/mpirun
-np 4 smg2000 -n 75 75 75 <br>
    <br>
In window #1 (openss) attach to the ranked process. <br>
openss&gt;&gt; expattach -v mpi -p <span style="font-weight: bold;">7824<br>
    </span>openss&gt;&gt;expgo<br>
openss&gt;&gt;Start asynchronous execution of experiment:&nbsp; -x 1 <br>
openss&gt;&gt;expview <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
PAPI_TOT_CYC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% of Total&nbsp; Function Name <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
39162720000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
13.2517&nbsp; hypre_SMGResidual(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
24302400000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
8.4087&nbsp; hypre_CyclicReduction(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2350560000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.6919&nbsp; hypre_SemiInterp(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1474080000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.2661&nbsp; hypre_SemiRestrict(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
756960000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.3725&nbsp; MPIR_UnPack_Hvector(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
717120000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.1064&nbsp; memcpy(libc.so.6) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
438240000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.1064&nbsp; hypre_StructAxpy(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
398400000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.2661&nbsp; hypre_SMGAxpy(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
398400000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.0532&nbsp; hypre_InitializeCommunication(smg2000) <br>
...<br>
...<br>
...<br>
openss&gt;&gt;expstatus <br>
openss&gt;&gt; <br>
Experiment definition <br>
{ # ExpId is 1, Status is Terminated, Temporary database is
/tmp/ssdb1pJkmpG.openss <br>
&nbsp; Currently Specified Components: <br>
&nbsp;&nbsp;&nbsp; -h wsopenss2 -p 7824 hwc <br>
&nbsp;&nbsp;&nbsp; -h localhost -p 7841 hwc <br>
&nbsp;&nbsp;&nbsp; -h localhost -p 7861 hwc <br>
&nbsp;&nbsp;&nbsp; -h localhost -p 7878 hwc <br>
&nbsp; Metrics: <br>
&nbsp;&nbsp;&nbsp; hwc::overflows <br>
&nbsp; Parameter Values: <br>
&nbsp;&nbsp;&nbsp; hwc::event =&nbsp; PAPI_TOT_CYC <br>
&nbsp;&nbsp;&nbsp; hwc::sampling_rate =&nbsp; 39840000 <br>
&nbsp; Available Views: <br>
&nbsp;&nbsp;&nbsp; hwc <br>
} <br>
openss&gt;&gt;expview hwc -p 7824
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
PAPI_TOT_CYC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% of Total&nbsp; Function Name <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
9920160000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
53.4335&nbsp; hypre_SMGResidual(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
6294720000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
33.9056&nbsp; hypre_CyclicReduction(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
517920000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2.7897&nbsp; hypre_SemiInterp(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
278880000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.5021&nbsp; MPIR_UnPack_Hvector(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
199200000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.0730&nbsp; hypre_SemiRestrict(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
199200000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.0730&nbsp; hypre_SMGAxpy(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
119520000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.6438&nbsp; MPIR_Unpack2(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
119520000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.6438&nbsp; MPID_CH_Eagerb_isend_short(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
119520000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.6438&nbsp; hypre_SMGSetStructVectorConstantValues(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
79680000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.4292&nbsp; memcpy(libc.so.6) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
79680000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.4292&nbsp; hypre_StructAxpy(smg2000) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
39840000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.2146&nbsp; _int_malloc(libc.so.6)
\<br>
...<br>
...<br>
...<br>
openss&gt;&gt;<br>
    <br>
    <h4><a class="mozTocH4" name="mozTocId790164"></a>Loading and
Starting
MPI Applications with the CLI<br>
    </h4>
[machine
prompt]:openss -cli<br>
openss&gt;&gt;<span style="font-weight: bold;">expcreate pcsamp -f
"mpirun -np 256 sweep3d.mpi"<br>
    <br>
    </span>The expcreate command above will automatically attach to all
256 processes/ranks of the MPI job and return the prompt when the
experiment is ready to run.&nbsp;&nbsp; The quotes around the mpirun
command allow Open|SpeedShop to process many variations of MPI without
having to parse the commands of the various MPI
implementations.&nbsp;&nbsp; The quotes are required.<span
 style="font-weight: bold;"><br>
    </span><span style="font-weight: bold; font-style: italic;"> <br>
    </span><span style="font-weight: bold;">NOTE</span>: The "-v mpi"
option that was needed in attaching to running to the already running
MPI processes or ranks to tell the expcreate to attach to the entire
MPI job, not just the single MPI process that is specified by the -p
option IS NOT required.&nbsp;&nbsp; <span
 style="font-weight: bold; font-style: italic;"><br>
    </span><br>
&nbsp;<br>
    <span style="font-weight: bold;"></span><br>
  </blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <blockquote><b style=""> </b></blockquote>
    <b style=""> </b></blockquote>
  <b style=""> </b>
  <blockquote><b style=""> </b>
    <blockquote><b style=""> </b></blockquote>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote> <b style=""> </b>
  <blockquote><b style=""> </b>
    <blockquote><b style=""> </b></blockquote>
    <b style=""> </b></blockquote>
</blockquote>
<blockquote>
  <h2><a class="mozTocH2" name="mozTocId749689"></a><b style=""> </b></h2>
  <h2><a class="mozTocH2" name="mozTocId59849"></a><b style=""><span
 style=""><span style=""><span style=""><span style=""><a
 name="Batch_Command_Tool_"></a><span style=""><span style=""><!--[if !supportLists]-->Using
the Batch
Command Tool <br>
  </span></span></span></span></span></span></b></h2>
</blockquote>
<p class="MsoBodyText" style="margin-left: 0.5in;">The batch command
tool is essentially invoking the Open|SpeedShop command "openss" with
the "-batch" option and either piping a list of command line interface
commands into the invocation (see piping example below) or simply
specifying the experiment and executable in the "openss -batch" command
(see example below).
In&nbsp; both cases, Open|SpeedShop processes the list of
Open|SpeedShop command line
interface commands synchronously (in sequential order) and without user
intervention.&nbsp; <br>
</p>
<h3><a class="mozTocH3" name="mozTocId878676"></a><a
 name="Simple_one_step_batch_example"></a>One step batch example<br>
</h3>
<p class="MsoBodyText" style="margin-left: 0.5in;">For users desiring
to run an experiment on an executable and view the results, the simple
batch command syntax might be the easiest command to use.&nbsp; The
syntax for this usage of Open|SpeedShop is as follows:<br>
</p>
<div style="margin-left: 120px;">openss -batch&nbsp;<font size="-1"> [
&lt;target_list&gt; ] [ &lt;expType_list&gt;
]<br>
where for most invocations &lt;target_list&gt; reduces to "-f
executable_name" and<br>
&lt;expType_list&gt; reduces to one of the supported experiment names,
such as, pcsamp, usertime, io, ... etc.<br>
</font></div>
<p class="MsoBodyText" style="margin-left: 0.5in;"><small><big>For
illustration purposes, here is an example of a usertime experiment run
on an executable named fred:</big></small></p>
<h4><a class="mozTocH4" name="mozTocId990413"></a><small><big><a
 name="Command_example:"></a>Command example:</big></small></h4>
<p class="MsoBodyText" style="margin-left: 0.5in; font-weight: bold;"><small><big>openss
-batch -f usability/phaseII/fred usertime</big></small></p>
<h4><a class="mozTocH4" name="mozTocId800328"></a><small><big><a
 name="Command_output:"></a>Command output:</big></small></h4>
<p class="MsoBodyText" style="margin-left: 0.5in;"><small><big>The new
focused experiment identifier is:&nbsp; -x 1<br>
Start asynchronous execution of experiment:&nbsp; -x 1<br>
Usage: /work/jeg/OpenSpeedShop/usability/phaseII/fred &lt;size&gt;
&lt;segment_count&gt;<br>
No size argument given.&nbsp;&nbsp; Defaulting to 750.<br>
/work/jeg/OpenSpeedShop/usability/phaseII/fred: succesfully completed.<br>
<br>
&nbsp; Exclusive CPU time&nbsp;&nbsp;&nbsp; Inclusive CPU time&nbsp; %
of Total Exclusive&nbsp;
Function (defining location)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in
seconds.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in
seconds.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CPU Time<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
5.45714275&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
5.45714275&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
51.62162162&nbsp; f3
(fred: f3.c,23)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3.31428565&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3.31428565&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
31.35135135&nbsp; f2
(fred: f2.c,2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.79999996&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1.79999996&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
17.02702703&nbsp; f1
(fred: f1.c,2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
10.57142836&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;
__libc_start_main (libc.so.6)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
10.57142836&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;
_start (fred)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
10.57142836&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp; work
(fred: work.c,2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
10.57142836&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0.00000000&nbsp; main
(fred: fred.c,5)</big>
<br>
</small>
</p>
<h3><a class="mozTocH3" name="mozTocId774375"></a><a
 name="Flexible_Pipe_commands_batch_example"></a>Flexible Pipe commands
batch example</h3>
<div style="margin-left: 40px;">This batch command example is here to
illustrate the flexibility of this particular method of invoking
Open|SpeedShop in a batch environment.&nbsp;&nbsp; This piping example,
is meant to show that the batch command input file can contain
different or perhaps even more complicated Open|SpeedShop CLI commands
because the user has control over the contents.&nbsp;&nbsp; In this
example, the view command (expView - commands are case insensitive) has
an option to show the results in a per-statement format.&nbsp;&nbsp;
The default view is a by-function format.<br>
</div>
<br>
<h4><a class="mozTocH4" name="mozTocId634032"></a><a
 name="OpenSpeedShop_CLI_command_file_contents"></a>Open|SpeedShop CLI
command file contents (batch.input file)</h4>
<p class="MsoBodyText" style="margin-left: 0.5in;"><span
 style="font-weight: bold;">expcreate -f&nbsp; </span><b
 style="font-weight: bold;">home/openss/demo/Simple/mutatee </b><span
 style="font-weight: bold;">usertime</span><br
 style="font-weight: bold;">
<span style="font-weight: bold;">expgo </span><br
 style="font-weight: bold;">
<span style="font-weight: bold;">expview -v statements -m time </span><span
 style="font-weight: bold;"></span><b style=""><span
 style="font-weight: bold;"></span><br style="font-weight: bold;">
<span style="font-weight: bold;">exit<br>
</span></b></p>
<h4><a class="mozTocH4" name="mozTocId580568"></a><b style=""><span
 style="font-weight: bold;"><span style="font-weight: bold;"><a
 name="Command_example:_"></a>Command example:</span></span></b></h4>
<p class="MsoBodyText" style="margin-left: 0.5in;"><b style=""></b><b
 style=""><span style="font-weight: bold;">openss
-batch &lt;
batch.input<br>
</span></b></p>
<h4><a class="mozTocH4" name="mozTocId1596"></a><b style=""><span
 style="font-weight: bold;"><a name="Command_output:_"></a>Command
output:</span></b></h4>
<p class="MsoBodyText" style="margin-left: 0.5in;"><b style=""></b>The
new focused experiment identifier is:&nbsp; -x 1<br>
Start asynchronous execution of experiment:&nbsp; -x 1<br>
<br>
&nbsp; Exclusive CPU time&nbsp; Statement Location (Line Number)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in seconds.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 46.99999906&nbsp;
mutatee.c(27)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 27.08571374&nbsp;
mutatee.c(18)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 15.94285682&nbsp;
mutatee.c(9)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 13.37142830&nbsp;
mutatee.c(28)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12.22857118&nbsp;
mutatee.c(19)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.62857136&nbsp;
mutatee.c(10)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.02857143&nbsp;
mutatee.c(21)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.02857143&nbsp;
mutatee.c(24)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.00000000&nbsp;
mutatee.c(38)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.00000000&nbsp;
mutatee.c(46)<br>
<b style=""><br>
<br>
</b></p>
</div>
<div style="text-align: left;"><span
 style="font-size: 11pt; font-family: &quot;Times New Roman&quot;;">
</span></div>
<div style="text-align: left;" class="Section7">
<h1 style="text-align: left;"><a class="mozTocH1" name="mozTocId54031"></a><b
 style=""><!--[if !supportLists]--><a name="Scripting_API"></a><span
 style="color: rgb(0, 0, 128);">Scripting
API</span><br>
</b></h1>
<blockquote>The scripting API in Open|SpeedShop is implemented using
Python.&nbsp;&nbsp; The scripting API gives users the opportunity to
import Open|SpeedShop as a Python module and execute Open|SpeedShop
commands as function calls.&nbsp;&nbsp; Some highlights of the
scripting API functionality are:<br>
  <ul>
    <li>Open|SpeedShop Python API executes &#8220;same&#8221; Interactive/Batch
Open|SpeedShop commands</li>
    <li>Users can intersperse &#8220;normal&#8221; Python code with Open|SpeedShop
Python API</li>
    <li>Users can run Open|SpeedShop experiments via the Open|SpeedShop
Python API</li>
  </ul>
A simple test case illustrating the functionality is shown here:<b
 style=""><br>
  <br>
  </b>import oss <br>
my_filename=oss.FileList(("../../usability/phaseII/fred") <br>
my_viewtype = openss.ViewTypeList() <br>
my_viewtype += "pcsamp" <br>
exp1=oss.expCreate(my_filename,viewtype)<br>
oss.expGo()<br>
oss.wait()<br>
  <br>
except openss.error:<br>
&nbsp;&nbsp; print "expGo(exp1,my_modifer) failed"<br>
  <br>
oss.dumpView()<br>
  <br>
Excl. CPU time&nbsp;&nbsp; % of CPU Time&nbsp; Function (def.
location)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
\<br>
&nbsp;&nbsp;&nbsp;&nbsp;
4.6700&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
47.7994&nbsp;&nbsp;&nbsp; f3 (fred: f3.c,23)<br>
&nbsp;&nbsp;&nbsp;&nbsp;
3.5100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
35.9263&nbsp;&nbsp;&nbsp; f2 (fred: f2.c,2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;
1.5900&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
16.2743&nbsp;&nbsp;&nbsp; f1 (fred: f1.c,2)<br>
  <b style=""><br>
  </b>The example creates a program counter sampling experiment
(pcsamp) for the executable that is located in the relative directory
path "../../usability/phaseII/".&nbsp;&nbsp; The oss.expGo python
statement runs the experiment and the oss.dumpView prints the results.<br>
  <br>
If this functionality is of interest to you, please follow this<a
 href="../../../../OpenSpeedShop/doc/pyscripting_doc/index.html"> link </a>to
the detailed documentation associated with the Python scripting API
definition.<b style=""><br>
  </b></blockquote>
<p class="MsoBodyText"><b style="">&nbsp;</b></p>
</div>
<div style="text-align: left;" class="Section12">
<h1 style="text-align: left;"><a class="mozTocH1" name="mozTocId525838"></a><b
 style=""><a name="Plugin_API_Extensibility_Description_"></a><!--[if !supportLists]--><span
 style="color: rgb(0, 0, 128);">Plugin
API (Extensibility)&nbsp; Description</span></b></h1>
A plugin is a mechanism in which to extend the capability of
<b>Open|SpeedShop</b> by adding additional experiment collectors,
Graphical
User Interface&nbsp; panels or Interactive Command Line Interface data
views.&nbsp;&nbsp; These are multiple plugin types used in
<b>Open|SpeedShop</b>:<br>
<ol>
  <li>Collector Plugins</li>
  <li>Graphical User Interface Plugins</li>
  <li>Interactive Command Line Interface View Plugins <br>
  </li>
</ol>
Please refer to the <a href="../plugin_guide/index.html">Open|SpeedShop
Plugin Guide</a> for more information on <span
 style="font-weight: bold;">Open|SpeedShop</span> plugin creation.<b
 style=""><br>
</b></div>
<div class="Section13">
<h1 style="text-align: left;"><a class="mozTocH1" name="mozTocId145888"></a><b
 style="color: rgb(0, 0, 128);"><a href="../cli_doc/definition.html">Appendix
A: Command Syntax
Description</a></b></h1>
<p class="MsoBodyText"><!--[endif]--></p>
</div>
</div>
</div>
</div>
<br>
<h1 style="text-align: left;"><a class="mozTocH1" name="mozTocId598438"></a><b><b
 style=""><span style="color: rgb(0, 0, 128);">Credits and Trademark
References<br>
</span></b></b></h1>
TotalView is a registered trademark of Etnus, Inc.<font size="-4"><br>
<big>Silicon Graphics, SGI, IRIX, and the SGI logo are registered
trademarks of Silicon Graphics, Inc.</big></font><br>
</body>
</html>
