<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!--
      Copyright (c) 2005 Silicon Graphics, Inc. All Rights Reserved.
      Copyright (c) 2008 Krell Institute. All Rights Reserved.
      Permission is granted to copy, distribute and/or modify this document
      under the terms of the GNU Free Documentation License, Version 1.2
      or any later version published by the Free Software Foundation;
      with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
         Texts.  A copy of the license is included in the section entitled "GNU
      Free Documentation License".
-->
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Open/SpeedShop User's Guide</title>
  <style type="text/css">
   H1 {border-width: 1; border: solid; text-align: center}
  <style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
  </style>
  <meta content="Jim Galarowicz" name="author">
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"
 alink="#000099" lang="EN-US" link="blue" vlink="purple">
<div style="text-align: left;"><br>
<span style="text-decoration: underline;"></span>
<span style="text-decoration: underline;"></span></div>
<div class="moz-text-html" lang="x-western">
<div style="text-align: center;">
<div class="Section1"><br>
<p class="MsoNormal" style="text-align: center; color: rgb(0, 0, 102);"
 align="center"><b style=""><span
 style="font-size: 22pt; font-family: SGIAlt;"><img
 alt="Open|SpeedShop logo" src="OpenSpeedShop_Logo.jpg"
 style="width: 303px; height: 38px;"><br>
Build and Installation Guide<br>
</span></b><big><span style="font-weight: bold;">Version 1.9 Release</span><br
 style="font-weight: bold;">
<span style="font-weight: bold;">November 13, 2008</span></big><br>
</p>
<div class="Section2"><b style=""><br style="" clear="all">
</b>
<p style="text-align: left;" class="MsoNormal"><b style=""><b style=""><span
 style="font-size: 16pt; font-family: Arial; color: teal;"></span></b></b></p>
<div style="text-align: left;"><!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--></div>
<p style="text-align: left;" class="MsoNormal"><b style=""><b style=""><span
 style="font-size: 16pt; font-family: Arial; color: teal;"><br>
<span style="color: rgb(0, 0, 128);"></span></span></b></b></p>
<p style="text-align: left;" class="MsoNormal"><span
 style="font-family: Arial;"><span style="font-weight: bold;"></span></span></p>
<div style="text-align: left;">
<ol id="mozToc">
<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6-->
  <li><a href="#mozTocId208182">Build and Installation Guide
Introduction</a>
    <ol>
      <li><a href="#mozTocId821143">Introduction and Tutorial</a></li>
      <li><a href="#mozTocId200693">Downloading the
Open|SpeedShop Component
Source Using CVS trees </a></li>
    </ol>
  </li>
  <li><a href="#mozTocId334016">Open|SpeedShop
Build and Installation </a>
    <ol>
      <li><a href="#mozTocId733358">Building
Open|SpeedShop
and
Open|SpeedShop
Development RPM Usage Information</a>
        <ol>
          <li><a href="#mozTocId585528">Prerequistite Needs</a></li>
          <li><a href="#mozTocId893375">Installation Information</a></li>
          <li><a href="#mozTocId560453">To Run Open|SpeedShop</a></li>
          <li><a href="#mozTocId132468">Key
Environment Variables Needed for Building Open|SpeedShop</a>
            <ol>
              <li><a href="#mozTocId520988">OPENSS_PREFIX</a></li>
              <li><a href="#mozTocId613200">OPENSS_INSTRUMENTOR</a></li>
            </ol>
          </li>
          <li><a href="#mozTocId911379">Key
Environment Variables Needed for Running Open|SpeedShop</a>
            <ol>
              <li><a href="#mozTocId579302">OPENSS_PLUGIN_PATH</a></li>
              <li><a href="#mozTocId173759">LD_LIBRARY_PATH</a></li>
              <li><a href="#mozTocId537563">OPENSS_MPI_IMPLEMENTATION</a></li>
              <li><a href="#mozTocId861365">DYNINSTAPI_RT_LIB</a></li>
              <li><a href="#mozTocId597960">PATH</a></li>
            </ol>
          </li>
          <li><a href="#mozTocId435044">Open|SpeedShop Tested
Platforms:</a></li>
        </ol>
      </li>
    </ol>
  </li>
</ol>
<br>
</div>
<br>
<h1><a class="mozTocH1" name="mozTocId208182"></a><b style=""><span
 style="font-size: 22pt; font-family: SGIAlt;">Build and Installation
Guide Introduction<br>
</span></b></h1>
<p style="text-align: left;" class="MsoToc1"><!--if supportFields><span
style='text-transform:none;font-weight:normal'><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>TOC \o &quot;1-4&quot; <span
style='mso-element:field-separator'></span></span><![endif]--></p>
<div style="text-align: left;"><br>
<h2 style="margin-left: 40px;"><a class="mozTocH2" name="mozTocId821143"></a>Introduction
and Tutorial<br>
</h2>
</div>
</div>
<span style="font-size: 11pt; font-family: &quot;Times New Roman&quot;;"></span>
<div class="Section3">
<div style="text-align: left; margin-left: 40px;">Open|SpeedShop
release 1.9 comes with an install script that will build all the
supporting components and Open|SpeedShop itself in one step, or the
builder can invoke the script multiple times to build each component
separately.&nbsp;&nbsp; The <a
 href="BuildAndInstallGuide2.html#mozTocId733358">Building
Open|SpeedShop
and
Open|SpeedShop
Development RPM Usage Information</a> section describes the steps
necessary to prepare for the build and to do the actual building of
Open|SpeedShop and components.&nbsp;&nbsp;&nbsp; <a
 href="BuildInstallGuideTutorial.html">This tutorial </a>gives an
overview of
the build process and necessary environment setup.&nbsp;&nbsp; The
tutorial is based on a section from our larger tutorial presentations
which can be found at our web site: <a href="www.openspeedshop.org">www.openspeedshop.org.</a>&nbsp;
<br>
<br>
The next section explains how to build from our development source
tree.&nbsp;&nbsp; If you are not interested in doing that but are
interested in building the current 1.9 release of Open|SpeedShop skip
to the <a href="#OpenSpeedShop_Build_And_Installation">Build and
Installation section.</a><br>
<h2><a class="mozTocH3" name="mozTocId200693"></a><font
 face="ARIAL NARROW,HELVETICA"><a
 name="Downloading_the_OpenSpeedShop_Component"></a>Downloading the
Open|SpeedShop Component
Source Using CVS trees
</font></h2>
<p>For building from the Open|SpeedShop development tree, this section
provides information about how to download the
OpenSpeedShop and OpenSpeedShop_ROOT source repositories from the
sourceforge website.&nbsp;&nbsp;&nbsp;&nbsp; The OpenSpeedShop cvs tree
contains the source and documentation for the Open|SpeedShop
performance tool itself.&nbsp; The OpenSpeedShop_ROOT cvs tree contains
the source and rpms for the supporting components required by
Open|SpeedShop in order for Open|SpeedShop to function
correctly.&nbsp;&nbsp;&nbsp; <br>
</p>
<p>If not familar with cvs, see <a
 href="http://sourceforge.net/cvs/?group_id=176777">CVS information on
sourceforge</a>.&nbsp;&nbsp;&nbsp;
It contains links to general CVS documentation.
</p>
<p>
Set the CVSROOT environment variable.
<table border="0" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#dfdfdf"><span style="font-family: monospace;"><br>
      </span><tt>$ export
CVSROOT=':pserver:anonymous@openss.cvs.sourceforge.net:/cvsroot/openss'</tt>
      <br>
      <tt><i>(for sh, bash, ksh, or similar shells)</i></tt> <br>
      <tt>$ setenv CVSROOT&nbsp;
:pserver:anonymous@openss.cvs.sourceforge.net:/cvsroot/openss</tt> <br>
      <tt><i>(for csh or tcsh shells)</i></tt> <br>
&nbsp;</td>
    </tr>
  </tbody>
</table>
</p>
<p>
Login to the CVS server (this only needs to be done ONCE, not every
time you access CVS).
<table border="0" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#dfdfdf"><br>
      <tt>$ cvs login</tt> <br>
      <i>(there is no password:"</i>just hit enter<i>")</i> <br>
&nbsp;</td>
    </tr>
  </tbody>
</table>
</p>
<p>
Now grab the OpenSpeedShop and OpenSpeedShop_ROOT source trees:&nbsp;
<table border="0" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#dfdfdf"><br>
      <tt>$ cvs checkout OpenSpeedShop</tt> <br>
      <tt>$ cvs checkout OpenSpeedShop_ROOT</tt> <br>
&nbsp;</td>
    </tr>
  </tbody>
</table>
</p>
<p>
</p>
<p>Subsequently, you can checkout new code using:&nbsp;
<table border="0" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#dfdfdf"><br>
      <tt>$ cvs update -d</tt> <br>
&nbsp;</td>
    </tr>
  </tbody>
</table>
</p>
<p>We recommend using these cvs options. You may place them in a .cvsrc
file in your home directory:&nbsp;
<table border="0" cellspacing="2" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#dfdfdf">cvs -z5 -r -q<br>
checkout -P<br>
diff -N -u<br>
update -d -P<br>
&nbsp;</td>
    </tr>
  </tbody>
</table>
</p>
<br>
</div>
<div style="text-align: left; margin-left: 40px;">Now follow the
instructions below using OpenSpeedShop_ROOT as the top level
installation directory.&nbsp;&nbsp;&nbsp; To use the existing
install.sh installation script, OpenSpeedShop must be moved to the
openspeedshop-1.9 directory name, tarred into openspeedshop-1.9.tar,
gzipped into openspeedshop-1.9.tar.gz, and moved into
OpenSpeedShop_ROOT/SOURCES/openspeedshop-1.9.tar.gz. &nbsp; This is
what is done when a release tarball is prepared.
</div>
</div>
<div style="text-align: left;"><span
 style="font-size: 11pt; font-family: &quot;Times New Roman&quot;;">
</span></div>
<div style="text-align: left;" class="Section4">
<h1 style="margin-left: 40px; text-align: left;"><a class="mozTocH1"
 name="mozTocId334016"></a><b style=""><a
 name="OpenSpeedShop_Installation_Information"></a><!--[if !supportLists]--><span
 style="color: rgb(0, 0, 128);"><a
 name="OpenSpeedShop_Build_And_Installation"></a>Open|SpeedShop
Build and Installation<br>
</span></b></h1>
<blockquote>The following sections describe how to build
and install <b>Open|SpeedShop</b>.&nbsp;&nbsp; The RPM packages that
are
needed to build <b>Open|SpeedShop</b> and the RPM packages that are
needed to
run <b>Open|SpeedShop</b> are defined below.&nbsp;&nbsp; These are the
packages that can be found in the OpenSpeedShop_ROOT cvs tree (see
above).<br>
  <br>
This section documents the list of software packages used by the
Open|SpeedShop developers when building Open|SpeedShop or developing
plugin modules for it.&nbsp; For each package, a minimum and maximum
version is given. These are the KNOWN minimum and maximum verions that
have been found to work with Open|SpeedShop. You may find newer (or
older) versions of these packages work just fine. Go ahead and update
this document when you do! Packages not commonly found in some (e.g.
SuSE Professional 11, SLES 11, Fedora Core 7/8/9) Linux distributions
are provided here in this directory as source tarballs and binary RPMs
for key platforms may be found on the Open|SpeedShop download area on
sourceforge.<br>
  <br>
In addition, the components listed below are also needed for building
Open|SpeedShop. Note that the Maximum versions are only reflective of
what we have tested with.&nbsp; Newer versions will probably work also.<br>
  <br>
  <table style="width: 676px; height: 713px;" border="1" cellpadding="2"
 cellspacing="2">
    <tbody>
      <tr>
        <td>Component </td>
        <td>Name </td>
        <td>Minimum </td>
        <td>Maximum </td>
        <td>Notes</td>
      </tr>
      <tr>
        <td>autoconf </td>
        <td>2.59 </td>
        <td>2.61 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>automake </td>
        <td>1.7.9 </td>
        <td>1.10.1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>binutils </td>
        <td>2.15 </td>
        <td>2.18 </td>
        <td>none</td>
        <td style="vertical-align: top;">4<br>
        </td>
      </tr>
      <tr>
        <td>doxygen </td>
        <td>1.3.6 </td>
        <td>1.5.6-1 </td>
        <td>(2)</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>dpcl </td>
        <td>see-note-1 </td>
        <td>see-note-1 </td>
        <td>(1)</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>dyninst </td>
        <td>see-note-1 </td>
        <td>see-note-2 </td>
        <td>(1)</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>gcc/g++ </td>
        <td>3.4.6 </td>
        <td>4.3.1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>libdwarf </td>
        <td>2004/02/03 </td>
        <td>2008/06/15 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>monitor </td>
        <td>2007/02/15 </td>
        <td>2007/09/10 </td>
        <td><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>libelf </td>
        <td>0.8.5 </td>
        <td>0.8.5 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>or</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>elfutils-libelf-0.97.1-3</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>elfutils-libelf-devel-0.97.1-3</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>or</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>elfutils-libelf-0.119.1.2.1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>elfutils-libelf-devel-0.119.1.2.1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>libtool </td>
        <td>1.5.14 </td>
        <td>1.5.24 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>libunwind </td>
        <td>0.98.5 </td>
        <td>2008/07/28 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>papi </td>
        <td>3.0.8.1 </td>
        <td>3.5.0-1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>python </td>
        <td>2.3.3 </td>
        <td>2.5 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>python-devel </td>
        <td>2.3.3 </td>
        <td>2.5 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>sqlite </td>
        <td>3.0.8 </td>
        <td>3.6.1-1 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>qt </td>
        <td>3.3.1 </td>
        <td>3.3.8 </td>
        <td>none</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
      <tr>
        <td>qt-devel </td>
        <td>3.3.1 </td>
        <td>3.3.8 </td>
        <td>(3)</td>
        <td style="vertical-align: top;"><br>
        </td>
      </tr>
    </tbody>
  </table>
  <br>
NOTES:<br>
  <br>
  <ol>
    <li>Always use the Dyninst and MRNet or DPCL versions supplied with
Open|SpeedShop.&nbsp; Others will almost certainly not work with
Open|SpeedShop. </li>
    <li>Utilities commonly used by the Open|SpeedShop developers but
not strictly needed to build Open|SpeedShop.</li>
    <li>On SLES 9/10/11 Linux distributions the necessary qt
development components require qt3-devel-doc and qt3-devel-tools in
addition to qt3-devel.</li>
    <li>binutils 2.19.50 was tried and had some issues working with the
Dyninst Open|SpeedShop component</li>
  </ol>
  <br>
  <br>
See the INSTALL-note_a file for directions on how to use the
install.sh&nbsp; and Build-RPM scripts to build the Open|SpeedShop
supporting rpms and Open|SpeedShop itself.&nbsp; These are found in the
main directory of the release directory once the release tarball has
been gunzipped and untarred.<br>
  <br>
  <b style=""> </b></blockquote>
<h2 style="margin-left: 40px;"><a class="mozTocH2" name="mozTocId733358"></a><b
 style=""><a name="Building_OpenSpeedShop.html"></a>Building
Open|SpeedShop</b>
and
Open|SpeedShop
Development RPM Usage Information</h2>
<div style="text-align: left; margin-left: 80px;">The release top level
directory contains the install script (install.sh) that is intended to
make the build and installation of the components that <br>
are needed to support Open|SpeedShop and Open|SpeedShop itself easier.<br>
<br>
Because Open|SpeedShop depends on components that are highly dependent
on Operating System interfaces and libraries, it is difficult to
produce executable rpms<br>
for installation.&nbsp; This is why we offer a source build
installation.<br>
<br>
<h3><a class="mozTocH3" name="mozTocId585528"></a>Prerequistite Needs<br>
</h3>
<br>
There are some prerequisite packages that are necessary for building
and running the Open|SpeedShop performance tool. Most will be present
on a system that is used for debugging and performance analysis.&nbsp;
The README file in the release top level directory lists the components
and the versions that have been used successfully with Open|SpeedShop.<br>
<br>
<h3><a class="mozTocH3" name="mozTocId893375"></a>Installation
Information<br>
</h3>
<br>
Please gunzip and untar the openspeedshop-release-1.9.tar.gz file and
change directory into the openspeedshop-release-1.9
directory.&nbsp;&nbsp; <br>
<br>
For example:<br>
gunzip openspeedshop-release-1.9.tar.gz<br>
tar -xvf openspeedshop-release-1.9.tar<br>
cd openspeedshop-release-1.9<br>
<br>
Inside the top level release directory is the key script, install.sh,
that can be used in building the Open|SpeedShop performance tool.<br>
<br>
The script, <span style="font-weight: bold;">install.sh</span>, can
either step you through building the support libraries and
Open|SpeedShop or you can <span style="font-weight: bold;">choose an
option (9)</span> that will do all the steps without user intervention.<br>
<br>
This process builds RPMs for each package and allows you the option of
installing via RPM or to install as non-root through a rpm to cpio
process that is built into the script.&nbsp; The default installation
path is /opt/OSS<br>
<br>
If you would like to install in another location, set the environment
variable OPENSS_PREFIX.&nbsp; We recommend setting the variable.&nbsp;
You can base your LD_LIBRARY_PATH and PATH variables off the
OPENSS_PREFIX variable when you have Open|SpeedShop built and you are
ready to run it.<br>
<br>
For example:<br>
export OPENSS_PREFIX=/usr/projects/OSS<br>
<br>
Another variable that is advisable to set is QTDIR for the location to
the QT library if different from the default.&nbsp; The default is
/usr/lib64/qt-3.3<br>
<br>
Additional (optional) environment variables needed for building
vampirtrace and configuring for MPI experiments. vampirtrace needs a
MPI implementation specified in order to be built.&nbsp; So, the intent
is to be able to run vampirtrace trace under Open|SpeedShop, then one
of the following MPI implementations must be specified.&nbsp; <br>
<br>
&nbsp;&nbsp; OPENSS_MPI_LAM&nbsp; set to MPI LAM installation directory<br>
&nbsp;&nbsp; OPENSS_MPI_LAMPI&nbsp; set to MPI LAMPI installation
directory <br>
&nbsp;&nbsp; OPENSS_MPI_OPENMPI&nbsp; set to MPI OPENMPI installation
directory<br>
&nbsp;&nbsp; OPENSS_MPI_MPICH&nbsp; set to MPI MPICH installation
directory<br>
&nbsp;&nbsp; OPENSS_MPI_MPICH2&nbsp; set to MPI MPICH2 installation
directory<br>
&nbsp;&nbsp; OPENSS_MPI_MPICH_DRIVER mpich/mpich2 driver name [ch-p4]<br>
&nbsp;&nbsp; OPENSS_MPI_MPT&nbsp; set to SGI MPI MPT installation
directory<br>
<br>
If the above variables are not set most Open|SpeedShop experiments will
work, but the mpi, mpit, mpiotf experiments will not be built.&nbsp;
These variables are not necessary to run pcsamp, usertime, hwc, io, or
fpe experiments. <br>
<br>
The install script and the Open|SpeedShop configuration code will read
these environment variables and if set will configure Open|SpeedShop to
recognize these MPI implementations.&nbsp; That will allow users the
ability to create MPI experiments (mpi, mpit, mpiotf) and gather&nbsp;
performance data for MPI applications built with the specific MPI
implementation (for example: openmpi).&nbsp; <br>
<br>
For example:<br>
export OPENSS_MPI_OPENMPI=/usr/projects/openmpi-1.2.4<br>
<br>
The Open|SpeedShop configure will read the OPENSS_MPI_xxxxx variables
and configure for each MPI implementation specfied in this manner.<br>
<br>
The spec files associated with this build process include:<br>
qtver=3.3.8b<br>
libelfver=0.8.5_a<br>
libdwarfver=20080208_a<br>
libunwindver=0.99_a<br>
papiver=3.5.0_a<br>
sqlitever=3.6.1_a<br>
monitorver=20080617_a<br>
vampirtracever=5.3.2_a<br>
dyninstver=5.2r_a<br>
dpcl_dyninstver=5.1r_a<br>
mrnetver=2.0.1_a<br>
dpclver=20060421_a<br>
openspeedshopver=1.9_b1_a<br>
<br>
There is an order that is required in building the components because
some of the components depend oneach other.&nbsp; The install script
will lead you through the process.<br>
<br>
There is an expectation that you have libelf available. Option 1 will
check and build if necessary and option 1a will install if&nbsp; you
are doing the non-root cpio process.<br>
<br>
To start, type:<br>
<br>
<span style="font-weight: bold;">./install.sh</span><br>
<br>
These are the options that are provided. <br>
<br>
For the most automated way to build the entire tool would be to&nbsp; <span
 style="font-weight: bold;">choose option: 9</span>.&nbsp; With this
option all the components and openspeedshop will be built and installed
into the location/path specified in your OPENSS_PREFIX environment
variable.<br>
<br>
If you have trouble using option 9, you can build the components and
openspeedshop in a step by step manner to find any issues.&nbsp; After
each&nbsp; step you will need to run ./install.sh again to get to the
next step. You may also type install.sh and choose option 8 to see
which component is not installed.&nbsp; You may only have to rebuild
from that component onward.<br>
<br>
Because Open|SpeedShop currently uses dpcl as it's communication
mechanism, a dpcl daemon must run on your machine and, if you have a
cluster, a dpcl daemon must run on each node of your cluster.&nbsp; We
have a default file named "site.py" that we will install during the
running of the install.sh script.&nbsp; The site.py file will work
without intervention on your single system image machine, like a pc or
laptop (or a SGI single system image (SSI) machine). If you going to
run Open|SpeedShop on a cluster, some tweaking of the site.py file may
be necessary.&nbsp; <br>
<br>
See the startup_files subdirectory in this directory for example
site.py files that are working on cluster machines at various sites.<br>
<br>
Please contact us at: oss-questions@openspeedshop.org if you need
assistance.<br>
<br>
&nbsp;<br>
This is what will be displayed when you type install.sh:<br>
<br>
---------------------------------------<br>
<br>
<span style="font-weight: bold;">./install.sh</span><br>
<br>
&nbsp;&nbsp;&nbsp;
---------------------------------------------------------------------------<br>
&nbsp;&nbsp;&nbsp;
---------------------------------------------------------------------------<br>
&nbsp;&nbsp;&nbsp; This script builds RPMs and supports installation as
non-root through cpio<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; The default install prefix is /opt/OSS. If another
is preferred, please set<br>
&nbsp;&nbsp;&nbsp; the OPENSS_PREFIX environment variable to reflect
the new target directory&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; If you plan on installing RPMs as root, it will let
you know at what point<br>
&nbsp;&nbsp;&nbsp;
---------------------------------------------------------------------------<br>
<br>
<br>
&nbsp;&nbsp;&nbsp; You are building for default MRNet Open|SpeedShop
instrumentor: mrnet.<br>
&nbsp;&nbsp;&nbsp; If you wish to change the Open|SpeedShop
instrumentor, use<br>
&nbsp;&nbsp;&nbsp; the OPENSS_INSTRUMENTOR to specify: dpcl, mrnet, or
offline.<br>
<br>
&nbsp;&nbsp;&nbsp; Choices:<br>
<br>
&nbsp;&nbsp;&nbsp; 0&nbsp; - Set ~/.rpmmacros %_topdir to:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/home/jeg/OpenSpeedShop_ROOT&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; original will be
copied to .rpmmacros.##<br>
&nbsp;&nbsp;&nbsp; 0a - View environment variables that may be set<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; 1&nbsp; - Check if libelf is installed, build if
necessary<br>
&nbsp;&nbsp;&nbsp; 1a - Install libelf if built (non-root/cpio)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPM manually at this point<br>
&nbsp;&nbsp;&nbsp; 2&nbsp; - Build base Support libraries: libdwarf<br>
&nbsp;&nbsp;&nbsp; 2a - Install libdwarf if built (non-root/cpio)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPM manually at this point<br>
&nbsp;&nbsp;&nbsp; 3&nbsp; - Build base Support libraries: libunwind,
papi, sqlite, monitor<br>
&nbsp;&nbsp;&nbsp; 3a - Install base Support libraries (non-root/cpio):
libunwind, papi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sqlite, monitor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPMs manually at this point<br>
&nbsp;&nbsp;&nbsp; 4&nbsp; - Build base Support libraries: vampirtrace,
dyninst<br>
&nbsp;&nbsp;&nbsp; 4a - Install base Support library (non-root/cpio):
vampirtrace, dyninst<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPMs manually at this point<br>
&nbsp;&nbsp;&nbsp; 5&nbsp; - Build base Support libraries: dpcl,mrnet<br>
&nbsp;&nbsp;&nbsp; 5a - Install base Support library: dpcl,mrnet<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPMs manually at this point<br>
&nbsp;&nbsp;&nbsp; 6&nbsp; - Check if base GUI support library is
installed, build if necessary: qt3/qt3.3<br>
&nbsp;&nbsp;&nbsp; 6a - Install base GUI support library if built
(non-root/cpio): qt3/qt-3.3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPMs manually at this point<br>
&nbsp;&nbsp;&nbsp; 7&nbsp; - Build Open|SpeedShop<br>
&nbsp;&nbsp;&nbsp; 7a - Install Open|SpeedShop<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Otherwise install
RPMs manually at this point<br>
&nbsp;&nbsp;&nbsp; 8a - Prepare startup files - modules, dotkit, or env
variables that need to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - dpcl daemon
initiation - site.py<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp; 8b&nbsp; - Install status<br>
<br>
&nbsp;&nbsp;&nbsp; 9&nbsp; - Automatic - Run all steps with no
questions asked. Assume that the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
answer to any question which will be asked is yes. Please<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; make certain that all required
environment variables are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; set properly. It may be best
for fresh installations<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; to run though the choices one
at a time, in ascending<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; order, as this may help
discover any missing system<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; dependencies.&nbsp; Everything
will be installed in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /opt/OSS (if
OPENSS_PREFIX is not set) via cpio process<br>
Enter Option:<br>
<br>
---------------------------------------<br>
<br>
<br>
<h3><a class="mozTocH3" name="mozTocId560453"></a>To Run Open|SpeedShop<br>
</h3>
<br>
Please refer to the <a href="QuickStartGuide.html">QuickStart Guide</a>
for a short introduction or access the <a href="index.html">Users Guide</a>.&nbsp;
These are the best sources for information on how to run Open|SpeedShop.<br>
<br>
<br>
</div>
<br>
<h3 style="margin-left: 40px;"><a class="mozTocH3" name="mozTocId132468"></a><b
 style="">Key
Environment Variables Needed for Building Open|SpeedShop<br>
</b></h3>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId520988"></a><a name="OpenSpeedShop_developer_related"></a>OPENSS_PREFIX</h4>
<ul style="margin-left: 200px;">
  <li>&nbsp;This environment variable
specifies where the <b>Open|SpeedShop</b> binaries and libraries will
be
installed.&nbsp; Set this variable to a path, (e.g. "setenv
OPENSS_PREFIX /scratch/jeg/openss/install).&nbsp;&nbsp; After
installation, a bin and lib directory containing the <b>Open|SpeedShop</b>
components, will be present under the /scratch/jeg/openss/install
directory.</li>
</ul>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId613200"></a>OPENSS_INSTRUMENTOR</h4>
<ul style="margin-left: 200px;">
  <li>This environment variable
specifies the instrumentation mechanism to be used for the online
(dynamic instrumentation) mode of operation.&nbsp; MRNet is the
default. &nbsp;&nbsp; If only using the offline instrumentation mode of
operation OPENSS_INSTRUMENTOR can be set to "offline" (e.g. setenv
OPENSS_INSTRUMENTOR offline).&nbsp; In this case MRNet and Dyninst will
not be built and online instrumentation will not be available.</li>
</ul>
<br>
<h3 style="margin-left: 40px;"><a class="mozTocH3" name="mozTocId911379"></a><b><b
 style="">Key
Environment Variables Needed for Running Open|SpeedShop</b></b></h3>
<br>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId579302"></a>OPENSS_PLUGIN_PATH<br>
</h4>
<div style="margin-left: 200px;">
<ul>
  <li>This environment variable
specifies where the <b>Open|SpeedShop</b> main program will look for
experiment plugins.&nbsp; This is in addition to the normal search
path, which is "&lt;installdir&gt;/lib/openspeedshop"&nbsp; Prior to <b>Open|SpeedShop</b>
initialization set this
variable to the path to your non-default plugins,&nbsp; (e.g.
"setenv OPENSS_PLUGIN_PATH /g2/install/lib/openspeedshop)</li>
</ul>
</div>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId173759"></a>LD_LIBRARY_PATH</h4>
<div style="margin-left: 200px;">
<ul>
  <li>This environment variable points to the directories where
Open|SpeedShop component libraries and Open|SpeedShop libraries are
installed.&nbsp; Set this environment variable to
$OPENSS_PREFIX/lib{64} (e.g. "setenv LD_LIBRARY_PATH
$OPENSS_PREFIX/lib{64}:$LD_LIBRARY_PATH)<br>
  </li>
</ul>
</div>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId537563"></a>OPENSS_MPI_IMPLEMENTATION</h4>
<div style="margin-left: 200px;">
<ul>
  <li><big><small>&nbsp;This envirionmnent variable s</small></big><big><small>pecifies
the MPI implementation being used by the MPI application whose</small></big>
performance is being analyzed. Should be set to one of the currently
supported MPI implementations:<br>
  </li>
</ul>
</div>
<div style="margin-left: 240px;">openmpi, lampi, mpich2, mpich, mpt,
mvapich, lam<small><br>
<br>
</small>Open|SpeedShop can auto-detect most of the MPI
implementations that an MPI application is using.&nbsp; So, this
variable will only be used
to override the auto-detection code, if need be.<span
 style="font-family: monospace;"><br>
</span></div>
<br>
<br>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId861365"></a>DYNINSTAPI_RT_LIB</h4>
<ul>
  <ul>
    <ul>
      <ul>
        <ul>
          <ul>
            <li><big><small>This envirionmnent variable s</small></big><big><small>pecifies
the path to the Dyninst (dynamic instrumentation package) libraries and
is only needed for running in the online instrurmentation mode of
operation.&nbsp;&nbsp;&nbsp; Set this to:&nbsp; $OPENSS_PREFIX/lib{64}/
              </small></big>libdyninstAPI_RT.so.1 (e.g. setenv
DYNINSTAPI_RT_LIB $OPENSS_PREFIX/lib64/libdyninstAPI_RT.so.1). </li>
          </ul>
        </ul>
      </ul>
    </ul>
  </ul>
</ul>
<h4 style="margin-left: 120px;"><a class="mozTocH4"
 name="mozTocId597960"></a>PATH</h4>
<ul style="margin-left: 200px;">
  <li><big><small>This envirionmnent variable s</small></big><big><small>pecifies
the path to the Open|SpeedShop component executables and to the
Open|SpeedShop executables.&nbsp; Set this to:&nbsp; $OPENSS_PREFIX/bin</small></big>
(e.g. setenv PATH $OPENSS_PREFIX/bin:$PATH).</li>
</ul>
<br>
<h3 style="margin-left: 40px;"><a class="mozTocH3" name="mozTocId435044"></a><a
 name="OpenSpeedShop_Tested_Platforms:"></a>Open|SpeedShop Tested
Platforms:</h3>
<div style="margin-left: 40px;"><b>Open|SpeedShop</b> has been run
successfully on IA32, IA64, and X86_64 platforms.&nbsp; There are Linux
operating
system differences that can cause problems.&nbsp;&nbsp; The following
combinations have been tried and/or successfully tested:<br>
<ul>
  <li>SLES 10 IA64</li>
  <li>Fedora 3-8 on x86 and x86_64<br>
  </li>
  <li>RedHat Enterprise Linux (RHEL4 &amp; RHEL5) on x86, x86_64<br>
  </li>
  <li>SuSE Professional on x86_64 and x86<br>
  </li>
  <li>SuSE 10.* and SuSE 11 on x86 and x86_64<br>
  </li>
</ul>
</div>
<br>
</div>
<br>
<div style="text-align: left;" class="Section6">
<blockquote><br>
</blockquote>
</div>
<div class="Section13">
<p class="MsoBodyText"><!--[endif]--></p>
</div>
</div>
</div>
</div>
</body>
</html>
